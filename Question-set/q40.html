<!DOCTYPE html>
<!-- saved from url=(0104)http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests -->
<html itemscope="" itemtype="http://schema.org/QAPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Using java.net.URLConnection to fire and handle HTTP requests - Stack Overflow</title>
    <link rel="shortcut icon" href="https://cdn.sstatic.net/Sites/stackoverflow/img/favicon.ico?v=4f32ecc8f43d">
    <link rel="apple-touch-icon image_src" href="https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">
    <link rel="search" type="application/opensearchdescription+xml" title="Stack Overflow" href="http://stackoverflow.com/opensearch.xml">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="stackoverflow.com">
    <meta property="og:type" content="website">

    <meta property="og:image" itemprop="image primaryImageOfPage" content="https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded">
    <meta name="twitter:title" property="og:title" itemprop="title name" content="Using java.net.URLConnection to fire and handle HTTP requests">
    <meta name="twitter:description" property="og:description" itemprop="description" content="Use of java.net.URLConnection is asked about pretty often here, and the Oracle tutorial is too concise about it. 

That tutorial basically only shows how to fire a GET request and read the response...">
    <meta property="og:url" content="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests">
    <link rel="canonical" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests">

    
    
    <script type="text/javascript" async="" src="./q40_files/ados"></script><script src="./q40_files/rules-p-c1rF4kxgLUzNc.js.download"></script><script async="" src="./q40_files/quant.js.download"></script><script async="" src="./q40_files/beacon.js.download"></script><script async="" src="./q40_files/analytics.js.download"></script><script type="text/javascript" async="" src="./q40_files/ados.js.download"></script><script src="./q40_files/jquery.min.js.download"></script>
    <script src="./q40_files/stub.en.js.download"></script>
    <link rel="stylesheet" type="text/css" href="./q40_files/all.css">

            <link rel="alternate" type="application/atom+xml" title="Feed for question &#39;Using java.net.URLConnection to fire and handle HTTP requests&#39;" href="http://stackoverflow.com/feeds/question/2793150">
            <meta name="twitter:app:country" content="US">
            <meta name="twitter:app:name:iphone" content="Stack Exchange iOS">
            <meta name="twitter:app:id:iphone" content="871299723">
            <meta name="twitter:app:url:iphone" content="se-zaphod://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests">
            <meta name="twitter:app:name:ipad" content="Stack Exchange iOS">
            <meta name="twitter:app:id:ipad" content="871299723">
            <meta name="twitter:app:url:ipad" content="se-zaphod://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests">
            <meta name="twitter:app:name:googleplay" content="Stack Exchange Android">
            <meta name="twitter:app:url:googleplay" content="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests">
            <meta name="twitter:app:id:googleplay" content="com.stackexchange.marvin">
        <script>
        
            StackExchange.ready(function () {
                                    
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.initSnippetRenderer();
                    });
                    

                StackExchange.using("postValidation", function () {
                    StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
                });

                
                StackExchange.question.init({showAnswerHelp:true,totalCommentCount:0,shownCommentCount:0,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:2793150});

                styleCode();

                    StackExchange.realtime.subscribeToQuestion('1', '2793150');
                                                                    StackExchange.using("gps", function () { StackExchange.gps.trackOutboundClicks('#content', '.post-text', true); });

            });
        </script>


    <script>
        StackExchange.init({"locale":"en","stackAuthUrl":"https://stackauth.com","networkMetaHostname":"meta.stackexchange.com","serverTime":1488317848,"routeName":"Questions/Show","site":{"name":"Stack Overflow","description":"Q&A for professional and enthusiast programmers","isNoticesTabEnabled":true,"recaptchaPublicKey":"6LdchgIAAAAAAJwGpIzRQSOFaO0pU6s44Xt8aTwc","recaptchaAudioLang":"en","enableNewTagCreationWarning":true,"insertSpaceAfterNameTabCompletion":false,"id":1,"enableInsertDocLinkDialog":true,"enableSocialMediaInSharePopup":true},"user":{"fkey":"816d3fe09a7ed7e4ba07245c23acc06c","rep":0,"isAnonymous":true,"isAnonymousNetworkWide":true,"canSeeNewHeaderDesign":true,"ab":{"question_show_tweaks":{"v":"altern_unansw_cta","g":1},"devstory_onboarding_exp":{"v":"j","g":2}}},"events":{"postType":{"question":1},"postEditionSection":{"title":1,"body":2,"tags":3}},"story":{"minCompleteBodyLength":75}}, {"site":{"allowImageUploads":true,"enableUserHovercards":true,"styleCode":true,"enableNewLinkInsertDialog":true,"enableImgurHttps":true,"forceHttpsImages":true},"comments":{},"userProfile":{"openGraphAPIKey":"58740831ad23540e00c58987"},"tags":{},"accounts":{"currentPasswordRequiredForChangingStackIdPassword":true},"flags":{"allowRetractingFlags":true},"analytics":{"clientTimingsAbsoluteTimeout":30000,"clientTimingsDebounceTimeout":1000},"snippets":{"snippetsEnabled":true,"renderDomain":"stacksnippets.net"},"markdown":{"asteriskIntraWordEmphasis":true}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"237382d76454","js/moderator.en.js":"a33415e1eed8","js/full-anon.en.js":"942d7d1de187","js/full.en.js":"3a6885c07a88","js/wmd.en.js":"a0c125bc1e56","js/third-party/jquery.autocomplete.min.js":"d3b8fa7fdf74","js/third-party/jquery.autocomplete.min.en.js":"","js/mobile.en.js":"c37948fe0a99","js/help.en.js":"dbd4f489eff2","js/tageditor.en.js":"bc3ebe71b5f1","js/tageditornew.en.js":"3ddc9f480232","js/inline-tag-editing.en.js":"2ddfa79492e7","js/revisions.en.js":"8f22ba768cac","js/review.en.js":"759540619f52","js/tagsuggestions.en.js":"b278f9a0b23b","js/post-validation.en.js":"d08b3740a7e2","js/explore-qlist.en.js":"88f824a42b1a","js/events.en.js":"1419425a050c","js/keyboard-shortcuts.en.js":"7473f1cb9735","js/external-editor.en.js":"71095ef40e9d","js/adops.en.js":"9a6a7812a212","js/external-editor.en.js":"71095ef40e9d","js/snippet-javascript.en.js":"11b9273bb631","js/snippet-javascript-codemirror.en.js":"277350af08a2"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    
        <script>
            StackExchange.ready(function () {
                $('#nav-tour').click(function () {
                    StackExchange.using("gps", function() {
                        StackExchange.gps.track("aboutpage.click", { aboutclick_location: "headermain" }, true);
                    });
                });
            });
        </script>
<script async="" src="./q40_files/full-anon.en.js.download"></script><script async="" src="./q40_files/snippet-javascript.en.js.download"></script><script async="" src="./q40_files/post-validation.en.js.download"></script><script async="" src="./q40_files/prettify-full.en.js.download"></script><script type="text/javascript" src="./q40_files/adFeedback.js.download"></script><link rel="stylesheet" href="./q40_files/adFeedback.css"><link rel="stylesheet" href="./q40_files/jobs-multi.min.css" type="text/css"></head>
<body class="question-page new-topbar">
    <noscript>&lt;div id="noscript-padding"&gt;&lt;/div&gt;</noscript>
            <script>(function () { var old = $.fn.contents; $.fn.contents = function () { try { return old.apply(this, arguments); } catch (e) { return $([]); } } })()</script>
        

    <div id="notify-container"></div>
    <div id="custom-header"></div>


<header class="so-header js-so-header _fixed _scrolling">
    <div class="-container">
        <div class="-main">
            
            <a href="http://stackoverflow.com/" class="-logo ">
                <span class="-img">Stack Overflow</span>
            </a>

            <nav class="navigation">
                <ol class="-list">
                        <li class="-item _current">
        <a id="nav-questions" href="http://stackoverflow.com/questions" class="-link js-gps-track" data-gps-track="top_nav.click({is_current:true, location:2, destination:1})">Questions</a>
    </li>

    <li class="-item">
        <a id="nav-jobs" href="http://stackoverflow.com/jobs?med=site-ui&amp;ref=jobs-tab" class="-link js-gps-track" data-gps-track="top_nav.click({is_current:false, location:2, destination:6})">Jobs</a>
    </li>
                        <li class="-item">
        <a id="nav-docs" href="http://stackoverflow.com/documentation" class="-link js-gps-track" data-gps-track="top_nav.click({is_current:false, location:2, destination:7})">Documentation <small class="beta-badge">beta</small></a>
    </li>
                        <li class="-item">
        <a id="nav-tags" href="http://stackoverflow.com/tags" class="-link js-gps-track" data-gps-track="top_nav.click({is_current:false, location:2, destination:2})">Tags</a>
    </li>

                        <li class="-item">
        <a id="nav-users" href="http://stackoverflow.com/users" class="-link js-gps-track" data-gps-track="top_nav.click({is_current:false, location:2, destination:3})">Users</a>
    </li>

                </ol>
            </nav>

            <form id="search" action="http://stackoverflow.com/search" method="get" class="searchbar" autocomplete="off">
                <svg viewBox="0 0 18 18" width="18" height="18" role="icon"><path fill-rule="evenodd" d="M12.864 11.32h-.813l-.288-.277A6.66 6.66 0 0 0 13.38 6.69a6.69 6.69 0 1 0-6.69 6.69 6.66 6.66 0 0 0 4.354-1.617l.278.288v.813L16.467 18 18 16.467l-5.136-5.146zm-6.174 0a4.625 4.625 0 0 1-4.632-4.63A4.625 4.625 0 0 1 6.69 2.058a4.625 4.625 0 0 1 4.63 4.632 4.625 4.625 0 0 1-4.63 4.63z"></path></svg>
                <input name="q" type="text" placeholder="Search..." value="" tabindex="1" autocomplete="off" maxlength="240" class="f-input js-search-field">
                <button type="submit" class="btn js-search-submit">
                    <svg viewBox="0 0 18 18" width="18" height="18" role="icon"><path fill-rule="evenodd" d="M12.864 11.32h-.813l-.288-.277A6.66 6.66 0 0 0 13.38 6.69a6.69 6.69 0 1 0-6.69 6.69 6.66 6.66 0 0 0 4.354-1.617l.278.288v.813L16.467 18 18 16.467l-5.136-5.146zm-6.174 0a4.625 4.625 0 0 1-4.632-4.63A4.625 4.625 0 0 1 6.69 2.058a4.625 4.625 0 0 1 4.63 4.632 4.625 4.625 0 0 1-4.63 4.63z"></path></svg>
                </button>
            </form>

        </div>
        


<div class="-actions">
    <nav class="secondary-nav">
        <div class="-dialog-container js-topbar-dialog-corral">


    <div class="topbar-dialog siteSwitcher-dialog dno">
        <div class="header">
            <h3><a href="http://stackoverflow.com/">current community</a>
            </h3>
        </div>
        <div class="modal-content current-site-container">
            <ul class="current-site">
                    <li>
                            <div class="related-links">
                    <a href="http://chat.stackoverflow.com/" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:6 })">chat</a>
            </div>

    <a href="http://stackoverflow.com/" class="current-site-link site-link js-gps-track" data-id="1" data-gps-track="site_switcher.click({ item_type:3 })">
        <div class="site-icon favicon favicon-stackoverflow" title="Stack Overflow"></div>
        Stack Overflow
    </a>

                    </li>
                    <li class="related-site">
                            <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                        
    <a href="http://meta.stackoverflow.com/" class="site-link js-gps-track" data-id="552" data-gps-track="site.switch({ target_site:552, item_type:3 }),site_switcher.click({ item_type:4 })">
        <div class="site-icon favicon favicon-stackoverflowmeta" title="Meta Stack Overflow"></div>
        Meta Stack Overflow
    </a>

                    </li>
            </ul>
        </div>

        <div class="header" id="your-communities-header">
            <h3>
your communities            </h3>

        </div>
        <div class="modal-content" id="your-communities-section">

                <div class="call-to-login">
<a href="https://stackoverflow.com/users/signup?ssrc=site_switcher&amp;returnurl=%2fusers%2fstory%2fcurrent&amp;amp;utm_source=stackoverflow.com&amp;amp;utm_medium=dev-story&amp;amp;utm_campaign=signup-redirect" class="login-link js-gps-track" data-gps-track="site_switcher.click({ item_type:10 })">Sign up</a> or <a href="https://stackoverflow.com/users/login?ssrc=site_switcher&amp;returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f2793150%2fusing-java-net-urlconnection-to-fire-and-handle-http-requests" class="login-link js-gps-track" data-gps-track="site_switcher.click({ item_type:11 })">log in</a> to customize your list.
                </div>
        </div>

        <div class="header">
            <h3><a href="http://stackexchange.com/sites">more stack exchange communities</a>
            </h3>
            <a href="http://stackoverflow.blog/" class="fr">company blog</a>
        </div>
        <div class="modal-content">
                <div class="child-content"></div>
        </div>        
    </div>
                <div class="topbar-dialog help-dialog js-help-dialog dno">
        <div class="modal-content">
            <ul>
                                    <li>
                        <a href="http://stackoverflow.com/tour" class="js-gps-track" data-gps-track="help_popup.click({ item_type:1 })">
                            Tour
                            <span class="item-summary">
                                Start here for a quick overview of the site
                            </span>
                        </a>
                    </li>
                <li>
                    <a href="http://stackoverflow.com/help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:4 })">
                        Help Center
                        <span class="item-summary">
                            Detailed answers to any questions you might have
                        </span>
                    </a>
                </li>
                        <li>
                            <a href="http://meta.stackoverflow.com/" class="js-gps-track" data-gps-track="help_popup.click({ item_type:2 })">
                                Meta
                                <span class="item-summary">
                                    Discuss the workings and policies of this site
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="http://stackoverflow.com/company/about" class="js-gps-track" data-gps-track="help_popup.click({ item_type:6 })">
                                About Us
                                <span class="item-summary">
                                    Learn more about Stack Overflow the company
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.stackoverflowbusiness.com/?ref=topbar_help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:7 })">
                                Business
                                <span class="item-summary">
                                    Learn more about hiring developers or posting ads with us
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>

        </div>
        <ol class="-list">
            
    <li class="-item"><a href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" class="-link js-help-button" title="Help Center and other resources">
        <svg viewBox="0 0 18 18" width="18" height="18" role="icon"><path fill-rule="evenodd" d="M9 0a9 9 0 1 0 .001 18.001A9 9 0 0 0 9 0zm.812 13.126c-.02.716-.55 1.157-1.238 1.137-.659-.02-1.177-.49-1.157-1.209.02-.715.566-1.17 1.225-1.15.691.021 1.194.507 1.17 1.222zm1.956-5.114c-.168.237-.546.542-1.02.912l-.527.361c-.257.197-.417.43-.502.695-.044.141-.076.507-.084.752-.004.048-.032.156-.181.156H7.883c-.165 0-.185-.096-.18-.144.023-.667.12-1.218.397-1.66.374-.594 1.426-1.221 1.426-1.221.161-.12.286-.25.382-.39.177-.24.321-.51.321-.8 0-.333-.08-.65-.293-.915-.249-.31-.518-.458-1.036-.458-.51 0-.808.257-1.021.594-.213.338-.177.735-.177 1.097H5.746c0-1.366.357-2.238 1.112-2.752.51-.35 1.162-.502 1.921-.502.996 0 1.788.184 2.487.715.647.49.988 1.181.988 2.113 0 .575-.2 1.057-.486 1.447z"></path></svg>
    </a></li>
                <li class="-item">
        <a href="http://stackexchange.com/" class="-link js-site-switcher-button js-gps-track" data-gps-track="site_switcher.show" title="A list of all 166 Stack Exchange sites">
            <svg viewBox="0 0 18 19" width="18" height="19" role="icon"><path fill-rule="evenodd" d="M0 14a2 2 0 0 0 2 2h10v3l3-3h1a2 2 0 0 0 2-2v-2H0v2zM16 0H2a2 2 0 0 0-2 2v2h18V2a2 2 0 0 0-2-2zM0 6h18v4H0V6z"></path></svg>
        </a>
    </li>


        </ol>
    </nav>
        <div class="-ctas">
                    <a href="https://stackoverflow.com/users/login?ssrc=head&amp;returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f2793150%2fusing-java-net-urlconnection-to-fire-and-handle-http-requests" class="login-link btn-clear" rel="nofollow">Log In</a>
                        <a href="https://stackoverflow.com/users/signup?ssrc=head&amp;returnurl=%2fusers%2fstory%2fcurrent&amp;utm_source=stackoverflow.com&amp;utm_medium=dev-story&amp;utm_campaign=signup-redirect" class="login-link btn" rel="nofollow">Sign Up</a>

        </div>
</div>
    </div>
</header>

    <script>
        StackExchange.ready(function () { StackExchange.topbar.init(); });
            StackExchange.scrollPadding.setPaddingTop(60, 10);     </script>

    <div class="container">
        


        <div id="content" class="snippet-hidden">



            

<div itemscope="" itemtype="http://schema.org/Question">
    <link itemprop="image" href="https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">


<div id="herobox" class="alternate">
    <div class="test"></div>
        <div id="close">
            <a title="click to minimize"><span>x</span> Dismiss</a>
        </div>
    <div class="content">
        <b>Join the Stack Overflow Community</b>
        <div class="separator"></div>
        <div class="blurb">
            Stack Overflow is a community of 6.8 million programmers, just like you, helping each other.
                <br>
Join them; it only takes a minute:                <br>
        </div>
        <a href="http://stackoverflow.com/users/signup?ssrc=hero&amp;returnurl=%2fusers%2fstory%2fcurrent&amp;amp;utm_source=stackoverflow.com&amp;amp;utm_medium=dev-story&amp;amp;utm_campaign=signup-redirect" id="tell-me-more" class="button">Sign up</a>
    </div>
</div>
<script>
    StackExchange.ready(function () {

        var location = 0;
        if ($("body").hasClass("questions-page")) {
            location = 1;;
        } else if ($("body").hasClass("question-page")) {
            location = 1;;
        } else if ($("body").hasClass("faq-page")) {
            location = 5;;
        } else if ($("body").hasClass("home-page")) {
            location = 3;;
        }

        $('#tell-me-more').click(function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: 'cta', location: location }, true);
            });
        });
        $('#herobox #close').click(function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: "minimize", location: location }, true);
            });
            $.cookie("hero", "mini", { path: "/", expires: 365 });
            $.ajax({
                url: "/hero-mini",
                success: function (data) {
                    $("#herobox").fadeOut("fast", function () {
                        $("#herobox").replaceWith(data);
                        $("#herobox-mini").fadeIn("fast");
                    });
                }
            });
            return false;
        });
    });

</script>			<div id="question-header">
                <h1 itemprop="name"><a href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests" class="question-hyperlink">Using java.net.URLConnection to fire and handle HTTP requests</a></h1>

            
<div class="aside-cta">
    <a href="http://stackoverflow.com/questions/ask" class="btn-outlined">Ask Question</a>
</div>
		</div>
			<div id="mainbar">

			

<div class="question" data-questionid="2793150" id="question">

    <script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk1732388271",4).setZone(43); });
            </script>
            <div class="everyonelovesstackoverflow adzerk-vote" id="adzerk1732388271"><iframe id="ados_frame_adzerk1732388271_2729525" frameborder="0" scrolling="no" height="90" width="728" src="./q40_files/saved_resource.html"></iframe><div class="adzerk-vote-controls" style="display:none;"><div class="adzerk-vote-option adzerk-vote-up"><div class="adzerk-vote-icon"></div></div><div class="adzerk-vote-option adzerk-vote-down"><div class="adzerk-vote-icon"></div></div></div><div class="adzerk-vote-survey" style="display:none;"><form><span>No problem. We won't show you that ad again. Why didn't you like it?</span><ul><li><label><input type="radio" value="12" name="downvoteReason">Uninteresting</label></li><li><label><input type="radio" value="13" name="downvoteReason">Misleading</label></li><li><label><input type="radio" value="14" name="downvoteReason">Offensive</label></li><li><label><input type="radio" value="15" name="downvoteReason">Repetitive</label></li><li><label><input type="radio" value="16" name="downvoteReason">Other</label></li></ul><a href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" class="adzerk-vote-cancel">Oops! I didn't mean to do this.</a></form></div><img height="0px" width="0px" border="0" style="position:absolute;" src="./q40_files/i.gif"></div>    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="2793150">
        <a class="vote-up-off" title="This question shows research effort; it is useful and clear">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post high-scored-post">1503</span>
        <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful">down vote</a>

        <a class="star-off" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#">favorite</a>
        <div class="favoritecount"><b>1161</b></div>


</div>

            </td>
            
<td class="postcell">
<div>
    <div class="post-text" itemprop="text">

<p>Use of <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html" rel="noreferrer"><code>java.net.URLConnection</code></a> is asked about pretty often here, and the <a href="http://download.oracle.com/javase/tutorial/networking/urls/connecting.html" rel="noreferrer">Oracle tutorial</a> is <em>too</em> concise about it. </p>

<p>That tutorial basically only shows how to fire a GET request and read the response. It doesn't explain anywhere how to use it to among others perform a POST request, set request headers, read response headers, deal with cookies, submit a HTML form, upload a file, etc. </p>

<p>So, how can I use <code>java.net.URLConnection</code> to fire and handle "advanced" HTTP requests?</p>
    </div>
    <div class="post-taglist">
        <a href="http://stackoverflow.com/questions/tagged/java" class="post-tag js-gps-track" title="show questions tagged &#39;java&#39;" rel="tag">java</a> <a href="http://stackoverflow.com/questions/tagged/http" class="post-tag js-gps-track" title="show questions tagged &#39;http&#39;" rel="tag">http</a> <a href="http://stackoverflow.com/questions/tagged/httprequest" class="post-tag js-gps-track" title="show questions tagged &#39;httprequest&#39;" rel="tag">httprequest</a> <a href="http://stackoverflow.com/questions/tagged/httpurlconnection" class="post-tag js-gps-track" title="show questions tagged &#39;httpurlconnection&#39;" rel="tag">httpurlconnection</a> <a href="http://stackoverflow.com/questions/tagged/urlconnection" class="post-tag js-gps-track" title="show questions tagged &#39;urlconnection&#39;" rel="tag">urlconnection</a> 
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/q/2793150" title="short permalink to this question" class="short-link" id="link-post-2793150">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/2793150/edit" class="suggest-edit-post" title="">improve this question</a></div>        
    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="http://stackoverflow.com/posts/2793150/revisions" title="show all edits to this post">edited <span title="2015-06-25 12:40:29Z" class="relativetime">Jun 25 '15 at 12:40</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
    <td class="post-signature">
        <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of May 8 &#39;10 at 6:16. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-2793150" href="http://stackoverflow.com/posts/2793150/revisions" title="show revision history for this post">
        11 revs, 6 users 64%<br></a><a href="http://stackoverflow.com/users/157882">BalusC</a>
        
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</div>
</td>
        </tr>
                    
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-2793150" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-2793150" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>        </tbody></table>
</div>

			<div id="answers">

				<a name="tab-top"></a>
				<div id="answers-header">
					<div class="subheader answers-subheader">
						<h2>
								11 Answers
                                <span style="display:none;" itemprop="answerCount">11</span>
						</h2>
						<div>
							<div id="tabs">
        <a href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests?answertab=active#tab-top" data-nav-xhref="" title="Answers with the latest activity first" data-value="active" data-shortcut="A">
            active</a>
        <a href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests?answertab=oldest#tab-top" data-nav-xhref="" title="Answers in the order they were provided" data-value="oldest" data-shortcut="O">
            oldest</a>
        <a class="youarehere" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests?answertab=votes#tab-top" data-nav-xhref="" title="Answers with the highest score first" data-value="votes" data-shortcut="V">
            votes</a>
</div>
						</div>
					</div>    
				</div>    




  
<a name="2793153"></a>
<div id="answer-2793153" class="answer accepted-answer" data-answerid="2793153" itemscope="" itemtype="http://schema.org/Answer" itemprop="acceptedAnswer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="2793153">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post high-scored-post">2272</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>



        <span class="vote-accepted-on load-accepted-answer-date" title="loading when this answer was accepted...">accepted</span>

</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p><sup><em>First a disclaimer beforehand: the posted code snippets are all basic examples. You'll need to handle trivial <code>IOException</code>s and <code>RuntimeException</code>s like <code>NullPointerException</code>, <code>ArrayIndexOutOfBoundsException</code> and consorts yourself.</em></sup></p>

<hr>

<h3>Preparing</h3>

<p>We first need to know at least the URL and the charset. The parameters are optional and depend on the functional requirements.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">String</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">"http://example.com"</span><span class="pun">;</span><span class="pln">
</span><span class="typ">String</span><span class="pln"> charset </span><span class="pun">=</span><span class="pln"> </span><span class="str">"UTF-8"</span><span class="pun">;</span><span class="pln">  </span><span class="com">// Or in Java 7 and later, use the constant: java.nio.charset.StandardCharsets.UTF_8.name()</span><span class="pln">
</span><span class="typ">String</span><span class="pln"> param1 </span><span class="pun">=</span><span class="pln"> </span><span class="str">"value1"</span><span class="pun">;</span><span class="pln">
</span><span class="typ">String</span><span class="pln"> param2 </span><span class="pun">=</span><span class="pln"> </span><span class="str">"value2"</span><span class="pun">;</span><span class="pln">
</span><span class="com">// ...</span><span class="pln">

</span><span class="typ">String</span><span class="pln"> query </span><span class="pun">=</span><span class="pln"> </span><span class="typ">String</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="str">"param1=%s&amp;param2=%s"</span><span class="pun">,</span><span class="pln"> 
     </span><span class="typ">URLEncoder</span><span class="pun">.</span><span class="pln">encode</span><span class="pun">(</span><span class="pln">param1</span><span class="pun">,</span><span class="pln"> charset</span><span class="pun">),</span><span class="pln"> 
     </span><span class="typ">URLEncoder</span><span class="pun">.</span><span class="pln">encode</span><span class="pun">(</span><span class="pln">param2</span><span class="pun">,</span><span class="pln"> charset</span><span class="pun">));</span></code></pre>

<p>The query parameters must be in <code>name=value</code> format and be concatenated by <code>&amp;</code>. You would normally also <a href="http://en.wikipedia.org/wiki/Percent-encoding" rel="noreferrer">URL-encode</a> the query parameters with the specified charset using <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html#encode-java.lang.String-java.lang.String-" rel="noreferrer"><code>URLEncoder#encode()</code></a>.</p>

<p><sup>The <code>String#format()</code> is just for convenience. I prefer it when I would need the String concatenation operator <code>+</code> more than twice.</sup></p>

<hr>

<h3>Firing a <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3" rel="noreferrer">HTTP GET</a> request with (optionally) query parameters</h3>

<p>It's a trivial task. It's the default request method.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">URLConnection</span><span class="pln"> connection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url </span><span class="pun">+</span><span class="pln"> </span><span class="str">"?"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> query</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
connection</span><span class="pun">.</span><span class="pln">setRequestProperty</span><span class="pun">(</span><span class="str">"Accept-Charset"</span><span class="pun">,</span><span class="pln"> charset</span><span class="pun">);</span><span class="pln">
</span><span class="typ">InputStream</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> connection</span><span class="pun">.</span><span class="pln">getInputStream</span><span class="pun">();</span><span class="pln">
</span><span class="com">// ...</span></code></pre>

<p>Any query string should be concatenated to the URL using <code>?</code>. The <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.2" rel="noreferrer"><code>Accept-Charset</code></a> header may hint the server what encoding the parameters are in. If you don't send any query string, then you can leave the <code>Accept-Charset</code> header away. If you don't need to set any headers, then you can even use the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html#openStream%28%29" rel="noreferrer"><code>URL#openStream()</code></a> shortcut method.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">InputStream</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openStream</span><span class="pun">();</span><span class="pln">
</span><span class="com">// ...</span></code></pre>

<p>Either way, if the other side is a <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html" rel="noreferrer"><code>HttpServlet</code></a>, then its <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html#doGet%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29" rel="noreferrer"><code>doGet()</code></a> method will be called and the parameters will be available by <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29" rel="noreferrer"><code>HttpServletRequest#getParameter()</code></a>.</p>

<p>For testing purposes, you can print the response body to stdout as below:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="kwd">try</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Scanner</span><span class="pln"> scanner </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Scanner</span><span class="pun">(</span><span class="pln">response</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">String</span><span class="pln"> responseBody </span><span class="pun">=</span><span class="pln"> scanner</span><span class="pun">.</span><span class="pln">useDelimiter</span><span class="pun">(</span><span class="str">"\\A"</span><span class="pun">).</span><span class="pln">next</span><span class="pun">();</span><span class="pln">
    </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">responseBody</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<hr>

<h3>Firing a <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5" rel="noreferrer">HTTP POST</a> request with query parameters</h3>

<p>Setting the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#setDoOutput%28boolean%29" rel="noreferrer"><code>URLConnection#setDoOutput()</code></a> to <code>true</code> implicitly sets the request method to POST. The standard HTTP POST as web forms do is of type <code>application/x-www-form-urlencoded</code> wherein the query string is written to the request body.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">URLConnection</span><span class="pln"> connection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
connection</span><span class="pun">.</span><span class="pln">setDoOutput</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><span class="com">// Triggers POST.</span><span class="pln">
connection</span><span class="pun">.</span><span class="pln">setRequestProperty</span><span class="pun">(</span><span class="str">"Accept-Charset"</span><span class="pun">,</span><span class="pln"> charset</span><span class="pun">);</span><span class="pln">
connection</span><span class="pun">.</span><span class="pln">setRequestProperty</span><span class="pun">(</span><span class="str">"Content-Type"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"application/x-www-form-urlencoded;charset="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> charset</span><span class="pun">);</span><span class="pln">

</span><span class="kwd">try</span><span class="pln"> </span><span class="pun">(</span><span class="typ">OutputStream</span><span class="pln"> output </span><span class="pun">=</span><span class="pln"> connection</span><span class="pun">.</span><span class="pln">getOutputStream</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    output</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="pln">query</span><span class="pun">.</span><span class="pln">getBytes</span><span class="pun">(</span><span class="pln">charset</span><span class="pun">));</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="typ">InputStream</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> connection</span><span class="pun">.</span><span class="pln">getInputStream</span><span class="pun">();</span><span class="pln">
</span><span class="com">// ...</span></code></pre>

<p>Note: whenever you'd like to submit a HTML form programmatically, don't forget to take the <code>name=value</code> pairs of any <code>&lt;input type="hidden"&gt;</code> elements into the query string and of course also the <code>name=value</code> pair of the <code>&lt;input type="submit"&gt;</code> element which you'd like to "press" programmatically (because that's usually been used in the server side to distinguish if a button was pressed and if so, which one).</p>

<p>You can also cast the obtained <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html" rel="noreferrer"><code>URLConnection</code></a> to <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html" rel="noreferrer"><code>HttpURLConnection</code></a> and use its <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#setRequestMethod%28java.lang.String%29" rel="noreferrer"><code>HttpURLConnection#setRequestMethod()</code></a> instead. But if you're trying to use the connection for output you still need to set <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#setDoOutput%28boolean%29" rel="noreferrer"><code>URLConnection#setDoOutput()</code></a> to <code>true</code>.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">HttpURLConnection</span><span class="pln"> httpConnection </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">HttpURLConnection</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
httpConnection</span><span class="pun">.</span><span class="pln">setRequestMethod</span><span class="pun">(</span><span class="str">"POST"</span><span class="pun">);</span><span class="pln">
</span><span class="com">// ...</span></code></pre>

<p>Either way, if the other side is a <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html" rel="noreferrer"><code>HttpServlet</code></a>, then its <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html#doPost%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29" rel="noreferrer"><code>doPost()</code></a> method will be called and the parameters will be available by <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29" rel="noreferrer"><code>HttpServletRequest#getParameter()</code></a>.</p>

<hr>

<h3>Actually firing the HTTP request</h3>

<p>You can fire the HTTP request explicitly with <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#connect%28%29" rel="noreferrer"><code>URLConnection#connect()</code></a>, but the request will automatically be fired on demand when you want to get any information about the HTTP response, such as the response body using <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#getInputStream%28%29" rel="noreferrer"><code>URLConnection#getInputStream()</code></a> and so on. The above examples does exactly that, so the <code>connect()</code> call is in fact superfluous.</p>

<hr>

<h3>Gathering HTTP response information</h3>

<ol>
<li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html" rel="noreferrer">HTTP response status</a>:</p>

<p>You need a <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html" rel="noreferrer"><code>HttpURLConnection</code></a> here. Cast it first if necessary.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="kwd">int</span><span class="pln"> status </span><span class="pun">=</span><span class="pln"> httpConnection</span><span class="pun">.</span><span class="pln">getResponseCode</span><span class="pun">();</span></code></pre></li>
<li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html" rel="noreferrer">HTTP response headers</a>:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Entry</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;&gt;</span><span class="pln"> header </span><span class="pun">:</span><span class="pln"> connection</span><span class="pun">.</span><span class="pln">getHeaderFields</span><span class="pun">().</span><span class="pln">entrySet</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">header</span><span class="pun">.</span><span class="pln">getKey</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> header</span><span class="pun">.</span><span class="pln">getValue</span><span class="pun">());</span><span class="pln">
</span><span class="pun">}</span></code></pre></li>
<li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.17" rel="noreferrer">HTTP response encoding</a>:</p>

<p>When the <code>Content-Type</code> contains a <code>charset</code> parameter, then the response body is likely text based and we'd like to process the response body with the server-side specified character encoding then.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">String</span><span class="pln"> contentType </span><span class="pun">=</span><span class="pln"> connection</span><span class="pun">.</span><span class="pln">getHeaderField</span><span class="pun">(</span><span class="str">"Content-Type"</span><span class="pun">);</span><span class="pln">
</span><span class="typ">String</span><span class="pln"> charset </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">String</span><span class="pln"> param </span><span class="pun">:</span><span class="pln"> contentType</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="str">" "</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">).</span><span class="pln">split</span><span class="pun">(</span><span class="str">";"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">param</span><span class="pun">.</span><span class="pln">startsWith</span><span class="pun">(</span><span class="str">"charset="</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        charset </span><span class="pun">=</span><span class="pln"> param</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">"="</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
        </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">charset </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">(</span><span class="typ">BufferedReader</span><span class="pln"> reader </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">BufferedReader</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">InputStreamReader</span><span class="pun">(</span><span class="pln">response</span><span class="pun">,</span><span class="pln"> charset</span><span class="pun">)))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">String</span><span class="pln"> line</span><span class="pun">;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">line </span><span class="pun">=</span><span class="pln"> reader</span><span class="pun">.</span><span class="pln">readLine</span><span class="pun">())</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// ... System.out.println(line) ?</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// It's likely binary content, use InputStream/OutputStream.</span><span class="pln">
</span><span class="pun">}</span></code></pre></li>
</ol>

<hr>

<h3>Maintaining the session</h3>

<p>The server side session is usually backed by a cookie. Some web forms require that you're logged in and/or are tracked by a session. You can use the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/CookieHandler.html" rel="noreferrer"><code>CookieHandler</code></a> API to maintain cookies. You need to prepare a <a href="http://docs.oracle.com/javase/8/docs/api/java/net/CookieManager.html" rel="noreferrer"><code>CookieManager</code></a> with a <a href="http://docs.oracle.com/javase/8/docs/api/java/net/CookiePolicy.html" rel="noreferrer"><code>CookiePolicy</code></a> of <a href="http://docs.oracle.com/javase/8/docs/api/java/net/CookiePolicy.html#ACCEPT_ALL" rel="noreferrer"><code>ACCEPT_ALL</code></a> before sending all HTTP requests.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="com">// First set the default cookie manager.</span><span class="pln">
</span><span class="typ">CookieHandler</span><span class="pun">.</span><span class="pln">setDefault</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">CookieManager</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="typ">CookiePolicy</span><span class="pun">.</span><span class="pln">ACCEPT_ALL</span><span class="pun">));</span><span class="pln">

</span><span class="com">// All the following subsequent URLConnections will use the same cookie manager.</span><span class="pln">
</span><span class="typ">URLConnection</span><span class="pln"> connection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
</span><span class="com">// ...</span><span class="pln">

connection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
</span><span class="com">// ...</span><span class="pln">

connection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
</span><span class="com">// ...</span></code></pre>

<p>Note that this is known to not always work properly in all circumstances. If it fails for you, then best is to manually gather and set the cookie headers. You basically need to grab all <code>Set-Cookie</code> headers from the response of the login or the first <code>GET</code> request and then pass this through the subsequent requests.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="com">// Gather all cookies on the first request.</span><span class="pln">
</span><span class="typ">URLConnection</span><span class="pln"> connection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
</span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> cookies </span><span class="pun">=</span><span class="pln"> connection</span><span class="pun">.</span><span class="pln">getHeaderFields</span><span class="pun">().</span><span class="pln">get</span><span class="pun">(</span><span class="str">"Set-Cookie"</span><span class="pun">);</span><span class="pln">
</span><span class="com">// ...</span><span class="pln">

</span><span class="com">// Then use the same cookies on all subsequent requests.</span><span class="pln">
connection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">String</span><span class="pln"> cookie </span><span class="pun">:</span><span class="pln"> cookies</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    connection</span><span class="pun">.</span><span class="pln">addRequestProperty</span><span class="pun">(</span><span class="str">"Cookie"</span><span class="pun">,</span><span class="pln"> cookie</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">";"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)[</span><span class="lit">0</span><span class="pun">]);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="com">// ...</span></code></pre>

<p>The <code>split(";", 2)[0]</code> is there to get rid of cookie attributes which are irrelevant for the server side like <code>expires</code>, <code>path</code>, etc. Alternatively, you could also use <code>cookie.substring(0, cookie.indexOf(';'))</code> instead of <code>split()</code>.</p>

<hr>

<h3>Streaming mode</h3>

<p>The <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html" rel="noreferrer"><code>HttpURLConnection</code></a> will by default buffer the <em>entire</em> request body before actually sending it, regardless of whether you've set a fixed content length yourself using <code>connection.setRequestProperty("Content-Length", contentLength);</code>. This may cause <code>OutOfMemoryException</code>s whenever you concurrently send large POST requests (e.g. uploading files). To avoid this, you would like to set the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#setFixedLengthStreamingMode%28int%29" rel="noreferrer"><code>HttpURLConnection#setFixedLengthStreamingMode()</code></a>.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="pln">httpConnection</span><span class="pun">.</span><span class="pln">setFixedLengthStreamingMode</span><span class="pun">(</span><span class="pln">contentLength</span><span class="pun">);</span></code></pre>

<p>But if the content length is really not known beforehand, then you can make use of chunked streaming mode by setting the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#setChunkedStreamingMode%28int%29" rel="noreferrer"><code>HttpURLConnection#setChunkedStreamingMode()</code></a> accordingly. This will set the HTTP <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.41" rel="noreferrer"><code>Transfer-Encoding</code></a> header to <code>chunked</code> which will force the request body being sent in chunks. The below example will send the body in chunks of 1KB.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="pln">httpConnection</span><span class="pun">.</span><span class="pln">setChunkedStreamingMode</span><span class="pun">(</span><span class="lit">1024</span><span class="pun">);</span></code></pre>

<hr>

<h3>User-Agent</h3>

<p>It can happen that a request returns an unexpected response, while it works fine with a real web browser. The server side is probably blocking requests based on the <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.43" rel="noreferrer"><code>User-Agent</code></a> request header. The <code>URLConnection</code> will by default set it to <code>Java/1.6.0_19</code> where the last part is obviously the JRE version. You can override this as follows:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="pln">connection</span><span class="pun">.</span><span class="pln">setRequestProperty</span><span class="pun">(</span><span class="str">"User-Agent"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36"</span><span class="pun">);</span><span class="pln"> </span><span class="com">// Do as if you're using Chrome 41 on Windows 7.</span></code></pre>

<p>Use the User-Agent string from a <a href="http://www.useragentstring.com/pages/useragentstring.php" rel="noreferrer">recent browser</a>.</p>

<hr>

<h3>Error handling</h3>

<p>If the HTTP response code is <code>4nn</code> (Client Error) or <code>5nn</code> (Server Error), then you may want to read the <code>HttpURLConnection#getErrorStream()</code> to see if the server has sent any useful error information.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">InputStream</span><span class="pln"> error </span><span class="pun">=</span><span class="pln"> </span><span class="pun">((</span><span class="typ">HttpURLConnection</span><span class="pun">)</span><span class="pln"> connection</span><span class="pun">).</span><span class="pln">getErrorStream</span><span class="pun">();</span></code></pre>

<p>If the HTTP response code is -1, then something went wrong with connection and response handling. The <code>HttpURLConnection</code> implementation is in older JREs somewhat buggy with keeping connections alive. You may want to turn it off by setting the <code>http.keepAlive</code> system property to <code>false</code>. You can do this programmatically in the beginning of your application by:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">System</span><span class="pun">.</span><span class="pln">setProperty</span><span class="pun">(</span><span class="str">"http.keepAlive"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"false"</span><span class="pun">);</span></code></pre>

<hr>

<h3>Uploading files</h3>

<p>You'd normally use <a href="http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.2" rel="noreferrer"><code>multipart/form-data</code></a> encoding for mixed POST content (binary and character data). The encoding is in more detail described in <a href="http://www.faqs.org/rfcs/rfc2388.html" rel="noreferrer">RFC2388</a>.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">String</span><span class="pln"> param </span><span class="pun">=</span><span class="pln"> </span><span class="str">"value"</span><span class="pun">;</span><span class="pln">
</span><span class="typ">File</span><span class="pln"> textFile </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">File</span><span class="pun">(</span><span class="str">"/path/to/file.txt"</span><span class="pun">);</span><span class="pln">
</span><span class="typ">File</span><span class="pln"> binaryFile </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">File</span><span class="pun">(</span><span class="str">"/path/to/file.bin"</span><span class="pun">);</span><span class="pln">
</span><span class="typ">String</span><span class="pln"> boundary </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Long</span><span class="pun">.</span><span class="pln">toHexString</span><span class="pun">(</span><span class="typ">System</span><span class="pun">.</span><span class="pln">currentTimeMillis</span><span class="pun">());</span><span class="pln"> </span><span class="com">// Just generate some unique random value.</span><span class="pln">
</span><span class="typ">String</span><span class="pln"> CRLF </span><span class="pun">=</span><span class="pln"> </span><span class="str">"\r\n"</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Line separator required by multipart/form-data.</span><span class="pln">
</span><span class="typ">URLConnection</span><span class="pln"> connection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
connection</span><span class="pun">.</span><span class="pln">setDoOutput</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
connection</span><span class="pun">.</span><span class="pln">setRequestProperty</span><span class="pun">(</span><span class="str">"Content-Type"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"multipart/form-data; boundary="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> boundary</span><span class="pun">);</span><span class="pln">

</span><span class="kwd">try</span><span class="pln"> </span><span class="pun">(</span><span class="pln">
    </span><span class="typ">OutputStream</span><span class="pln"> output </span><span class="pun">=</span><span class="pln"> connection</span><span class="pun">.</span><span class="pln">getOutputStream</span><span class="pun">();</span><span class="pln">
    </span><span class="typ">PrintWriter</span><span class="pln"> writer </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">PrintWriter</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">OutputStreamWriter</span><span class="pun">(</span><span class="pln">output</span><span class="pun">,</span><span class="pln"> charset</span><span class="pun">),</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Send normal param.</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"--"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> boundary</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">);</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Content-Disposition: form-data; name=\"param\""</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">);</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Content-Type: text/plain; charset="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> charset</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">);</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">param</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">).</span><span class="pln">flush</span><span class="pun">();</span><span class="pln">

    </span><span class="com">// Send text file.</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"--"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> boundary</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">);</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Content-Disposition: form-data; name=\"textFile\"; filename=\""</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> textFile</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"\""</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">);</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Content-Type: text/plain; charset="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> charset</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">);</span><span class="pln"> </span><span class="com">// Text file itself must be saved in this charset!</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">).</span><span class="pln">flush</span><span class="pun">();</span><span class="pln">
    </span><span class="typ">Files</span><span class="pun">.</span><span class="pln">copy</span><span class="pun">(</span><span class="pln">textFile</span><span class="pun">.</span><span class="pln">toPath</span><span class="pun">(),</span><span class="pln"> output</span><span class="pun">);</span><span class="pln">
    output</span><span class="pun">.</span><span class="pln">flush</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Important before continuing with writer!</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">).</span><span class="pln">flush</span><span class="pun">();</span><span class="pln"> </span><span class="com">// CRLF is important! It indicates end of boundary.</span><span class="pln">

    </span><span class="com">// Send binary file.</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"--"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> boundary</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">);</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Content-Disposition: form-data; name=\"binaryFile\"; filename=\""</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> binaryFile</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"\""</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">);</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Content-Type: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">URLConnection</span><span class="pun">.</span><span class="pln">guessContentTypeFromName</span><span class="pun">(</span><span class="pln">binaryFile</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">())).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">);</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Content-Transfer-Encoding: binary"</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">);</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">).</span><span class="pln">flush</span><span class="pun">();</span><span class="pln">
    </span><span class="typ">Files</span><span class="pun">.</span><span class="pln">copy</span><span class="pun">(</span><span class="pln">binaryFile</span><span class="pun">.</span><span class="pln">toPath</span><span class="pun">(),</span><span class="pln"> output</span><span class="pun">);</span><span class="pln">
    output</span><span class="pun">.</span><span class="pln">flush</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Important before continuing with writer!</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">).</span><span class="pln">flush</span><span class="pun">();</span><span class="pln"> </span><span class="com">// CRLF is important! It indicates end of boundary.</span><span class="pln">

    </span><span class="com">// End of multipart/form-data.</span><span class="pln">
    writer</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"--"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> boundary </span><span class="pun">+</span><span class="pln"> </span><span class="str">"--"</span><span class="pun">).</span><span class="pln">append</span><span class="pun">(</span><span class="pln">CRLF</span><span class="pun">).</span><span class="pln">flush</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>If the other side is a <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html" rel="noreferrer"><code>HttpServlet</code></a>, then its <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html#doPost%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29" rel="noreferrer"><code>doPost()</code></a> method will be called and the parts will be available by <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getPart%28java.lang.String%29" rel="noreferrer"><code>HttpServletRequest#getPart()</code></a> (note, thus <strong>not</strong> <code>getParameter()</code> and so on!). The <code>getPart()</code> method is however relatively new, it's introduced in Servlet 3.0 (Glassfish 3, Tomcat 7, etc). Prior to Servlet 3.0, your best choice is using <a href="http://commons.apache.org/fileupload" rel="noreferrer">Apache Commons FileUpload</a> to parse a <code>multipart/form-data</code> request. Also see <a href="http://stackoverflow.com/questions/2422468/upload-big-file-to-servlet/2424824#2424824">this answer</a> for examples of both the FileUpload and the Servelt 3.0 approaches.</p>

<hr>

<h3>Dealing with untrusted or misconfigured HTTPS sites</h3>

<p>Sometimes you need to connect a HTTPS URL, perhaps because you're writing a web scraper. In that case, you may likely face a <code>javax.net.ssl.SSLException: Not trusted server certificate</code> on some HTTPS sites who doesn't keep their SSL certificates up to date, or a <code>java.security.cert.CertificateException: No subject alternative DNS name matching [hostname] found</code> or <code>javax.net.ssl.SSLProtocolException: handshake alert: unrecognized_name</code> on some misconfigured HTTPS sites.</p>

<p>The following one-time-run <code>static</code> initializer in your web scraper class should make <code>HttpsURLConnection</code> more lenient as to those HTTPS sites and thus not throw those exceptions anymore.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="kwd">static</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">TrustManager</span><span class="pun">[]</span><span class="pln"> trustAllCertificates </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TrustManager</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">new</span><span class="pln"> X509TrustManager</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="lit">@Override</span><span class="pln">
            </span><span class="kwd">public</span><span class="pln"> X509Certificate</span><span class="pun">[]</span><span class="pln"> getAcceptedIssuers</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Not relevant.</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="lit">@Override</span><span class="pln">
            </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> checkClientTrusted</span><span class="pun">(</span><span class="pln">X509Certificate</span><span class="pun">[]</span><span class="pln"> certs</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> authType</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="com">// Do nothing. Just allow them all.</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="lit">@Override</span><span class="pln">
            </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> checkServerTrusted</span><span class="pun">(</span><span class="pln">X509Certificate</span><span class="pun">[]</span><span class="pln"> certs</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> authType</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="com">// Do nothing. Just allow them all.</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="typ">HostnameVerifier</span><span class="pln"> trustAllHostnames </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HostnameVerifier</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> verify</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> hostname</span><span class="pun">,</span><span class="pln"> </span><span class="typ">SSLSession</span><span class="pln"> session</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Just allow them all.</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">System</span><span class="pun">.</span><span class="pln">setProperty</span><span class="pun">(</span><span class="str">"jsse.enableSNIExtension"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"false"</span><span class="pun">);</span><span class="pln">
        </span><span class="typ">SSLContext</span><span class="pln"> sc </span><span class="pun">=</span><span class="pln"> </span><span class="typ">SSLContext</span><span class="pun">.</span><span class="pln">getInstance</span><span class="pun">(</span><span class="str">"SSL"</span><span class="pun">);</span><span class="pln">
        sc</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> trustAllCertificates</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">SecureRandom</span><span class="pun">());</span><span class="pln">
        </span><span class="typ">HttpsURLConnection</span><span class="pun">.</span><span class="pln">setDefaultSSLSocketFactory</span><span class="pun">(</span><span class="pln">sc</span><span class="pun">.</span><span class="pln">getSocketFactory</span><span class="pun">());</span><span class="pln">
        </span><span class="typ">HttpsURLConnection</span><span class="pun">.</span><span class="pln">setDefaultHostnameVerifier</span><span class="pun">(</span><span class="pln">trustAllHostnames</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">GeneralSecurityException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ExceptionInInitializerError</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<hr>

<h3>Last words</h3>

<p>The <a href="http://hc.apache.org/httpcomponents-client-ga/" rel="noreferrer">Apache HttpComponents HttpClient</a> is <em>much</em> more convenient in this all :)</p>

<ul>
<li><a href="http://hc.apache.org/httpcomponents-client-ga/tutorial/html/" rel="noreferrer">HttpClient Tutorial</a></li>
<li><a href="http://hc.apache.org/httpcomponents-client-ga/examples.html" rel="noreferrer">HttpClient Examples</a></li>
</ul>

<hr>

<h3>Parsing and extracting HTML</h3>

<p>If all you want is parsing and extracting data from HTML, then better use a HTML parser like <a href="http://jsoup.org/" rel="noreferrer">Jsoup</a></p>

<ul>
<li><a href="http://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers/3154281#3154281">What are the pros/cons of leading HTML parsers in Java</a></li>
<li><a href="http://stackoverflow.com/questions/2835505/how-to-scan-a-website-or-page-for-info-and-bring-it-into-my-program/2835555#2835555">How to scan and extract a webpage in Java</a></li>
</ul>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/2793153" title="short permalink to this answer" class="short-link" id="link-post-2793153">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/2793153/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="http://stackoverflow.com/posts/2793153/revisions" title="show all edits to this post">edited <span title="2016-11-28 00:50:29Z" class="relativetime">Nov 28 '16 at 0:50</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of May 8 &#39;10 at 6:16. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-2793153" href="http://stackoverflow.com/posts/2793153/revisions" title="show revision history for this post">
        42 revs, 14 users 81%<br></a><a href="http://stackoverflow.com/users/157882">BalusC</a>
        
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-2793153" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="21" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-2985446" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="supernova">101</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">You should place the apache link first, so people looking for a solution find it faster ;)</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/23760/zeisss" title="6,806 reputation" class="comment-user">ZeissS</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment2985446_2793153"><span title="2010-05-28 18:54:30Z" class="relativetime-clean">May 28 '10 at 18:54</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-5269546" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="supernova">35</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@ivanceras: If you can't boil it down based on the information in this answer, then please press <code>Ask Question</code> button at right top.</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/157882/balusc" title="710,999 reputation" class="comment-user owner">BalusC</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment5269546_2793153"><span title="2011-01-21 19:33:49Z" class="relativetime-clean">Jan 21 '11 at 19:33</span></a></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-17309614" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="cool">2</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Brais: Please read the spec. The <code>--</code> part is not part of the boundary itself. It's just a separator string. I've rolled back your invalid edit.</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/157882/balusc" title="710,999 reputation" class="comment-user owner">BalusC</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment17309614_2793153"><span title="2012-10-09 13:22:58Z" class="relativetime-clean">Oct 9 '12 at 13:22</span></a></span>
                        <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-20280639" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="cool">4</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@BalusC thanks a lot for such a perfect tutorial. Please also include a heading like "Closing streams/connections". I am really confused about when and which streams/connections to close.</span>
		            –&nbsp;<span class="comment-user">user517491</span>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment20280639_2793153"><span title="2013-01-26 19:29:52Z" class="relativetime-clean">Jan 26 '13 at 19:29</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-35265439" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="warm">8</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">The sad part is that on Android it is <i>not</i> recommended to use the Apache <code>HttpClient</code> now and <code>HttpURLConnection</code> is cruel. <a href="http://android-developers.blogspot.in/2011/09/androids-http-clients.html" rel="nofollow noreferrer">android-developers.blogspot.in/2011/09/…</a></span>
                    –&nbsp;<a href="http://stackoverflow.com/users/687467/yati-sagade" title="940 reputation" class="comment-user">yati sagade</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment35265439_2793153"><span title="2014-04-15 05:27:32Z" class="relativetime-clean">Apr 15 '14 at 5:27</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-2793153" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link  dno" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick="">show <b>21</b> more comments</a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>
<script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk2117436539",4).setZone(44); });
            </script>
            <div class="everyonelovesstackoverflow adzerk-vote" id="adzerk2117436539"><iframe id="ados_frame_adzerk2117436539_2729527" frameborder="0" scrolling="no" height="90" width="728" src="./q40_files/saved_resource(1).html"></iframe><div class="adzerk-vote-controls" style="display:none;"><div class="adzerk-vote-option adzerk-vote-up"><div class="adzerk-vote-icon"></div></div><div class="adzerk-vote-option adzerk-vote-down"><div class="adzerk-vote-icon"></div></div></div><div class="adzerk-vote-survey" style="display:none;"><form><span>No problem. We won't show you that ad again. Why didn't you like it?</span><ul><li><label><input type="radio" value="12" name="downvoteReason">Uninteresting</label></li><li><label><input type="radio" value="13" name="downvoteReason">Misleading</label></li><li><label><input type="radio" value="14" name="downvoteReason">Offensive</label></li><li><label><input type="radio" value="15" name="downvoteReason">Repetitive</label></li><li><label><input type="radio" value="16" name="downvoteReason">Other</label></li></ul><a href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" class="adzerk-vote-cancel">Oops! I didn't mean to do this.</a></form></div><img height="0px" width="0px" border="0" style="position:absolute;" src="./q40_files/i(1).gif"></div>
  
<a name="8394587"></a>
<div id="answer-8394587" class="answer" data-answerid="8394587" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="8394587">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">74</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>When working with HTTP it's almost always more useful to refer to <code>HttpURLConnection</code> rather than the base class <code>URLConnection</code> (since <code>URLConnection</code> is an abstract class when you ask for <code>URLConnection.openConnection()</code> on a HTTP URL that's what you'll get back anyway).</p>

<p>Then you can instead of relying on <code>URLConnection#setDoOutput(true)</code> to implicitly set the request method to <em>POST</em> instead do <code>httpURLConnection.setRequestMethod("POST")</code> which some might find more natural (and which also allows you to specify other request methods such as <em>PUT</em>, <em>DELETE</em>, ...).</p>

<p>It also provides useful HTTP constants so you can do:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="kwd">int</span><span class="pln"> responseCode </span><span class="pun">=</span><span class="pln"> httpURLConnection</span><span class="pun">.</span><span class="pln">getResponseCode</span><span class="pun">();</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">responseCode </span><span class="pun">==</span><span class="pln"> </span><span class="typ">HttpURLConnection</span><span class="pun">.</span><span class="pln">HTTP_OK</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></pre>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/8394587" title="short permalink to this answer" class="short-link" id="link-post-8394587">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/8394587/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="http://stackoverflow.com/posts/8394587/revisions" title="show all edits to this post">edited <span title="2013-12-17 00:24:55Z" class="relativetime">Dec 17 '13 at 0:24</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Dec 6 &#39;11 at 2:20. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-8394587" href="http://stackoverflow.com/posts/8394587/revisions" title="show revision history for this post">
        2 revs, 2 users 96%<br></a><a href="http://stackoverflow.com/users/204476">Paal Thorstensen</a>
        
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-8394587" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-10664880" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">setDoOutPut true was my issue which set my GET to a POST. Thanks</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/255293/patrick-kafka" title="7,040 reputation" class="comment-user">Patrick Kafka</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment10664880_8394587"><span title="2011-12-21 21:32:47Z" class="relativetime-clean">Dec 21 '11 at 21:32</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-15567926" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="warm">14</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">If you are trying to write data to the outputstream you <b>must</b> still set <code>setDoOutput()</code> to <code>true</code> otherwise an exception is thrown (even if you <code>setRequestMethod("POST")</code>). To be clear: setting <code>URLConnection#setDoOutput(true)</code> to <code>true</code> implicitly sets the request method to POST, but setting <code>httpURLConnection.setRequestMethod("POST")</code> to POST does <b>not</b> implicitly set <code>setDoOutput()</code> to <code>true</code>.</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/708906/tony-chan" title="5,258 reputation" class="comment-user">Tony Chan</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment15567926_8394587"><span title="2012-07-31 00:09:44Z" class="relativetime-clean">Jul 31 '12 at 0:09</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-8394587" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="11019442"></a>
<div id="answer-11019442" class="answer" data-answerid="11019442" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="11019442">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">42</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>Inspired by this and other questions on SO, I've created a minimal open source <a href="http://code.google.com/p/basic-http-client/">basic-http-client</a> that embodies most of the techniques found here.</p>

<p><a href="https://code.google.com/p/google-http-java-client/">google-http-java-client</a> is also a great open source resource.</p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/11019442" title="short permalink to this answer" class="short-link" id="link-post-11019442">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/11019442/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="http://stackoverflow.com/posts/11019442/revisions" title="show all edits to this post"><span title="2012-06-13 16:37:47Z" class="relativetime">Jun 13 '12 at 16:37</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Jun 13 &#39;12 at 16:37. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-11019442" href="http://stackoverflow.com/posts/11019442/revisions" title="show revision history for this post">
        David Chandler
        </a>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-11019442" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-20158548" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I was just thinking the same. But it might also be nice to have a barebones/simple Java library that only uses URLConnection code as presented here that encapsulates the code to simpler methods to do an HTTP GET, POST, etc. The library can then be compiled &amp; packaged as JAR and imported/used in Java code or the source class file can be included in Java project if external JARs are not desired. This could be done with other libraries like Apache, etc. but is more of a pain compared to a simple 1 file class library using URLConnection.</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/425997/david" title="1,508 reputation" class="comment-user">David</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment20158548_11019442"><span title="2013-01-23 00:24:28Z" class="relativetime-clean">Jan 23 '13 at 0:24</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-53401318" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy"><a href="http://www.rapidvaluesolutions.com/tech_blog/introduction-to-httpurlconnection-http-client-for-performing-efficient-network-operations/" rel="nofollow noreferrer">rapidvaluesolutions.com/tech_blog/…</a> favors HttpURLConnection over HttpClient</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/4999394/ravindra-babu" title="14,660 reputation" class="comment-user">Ravindra babu</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment53401318_11019442"><span title="2015-09-25 11:48:25Z" class="relativetime-clean">Sep 25 '15 at 11:48</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-11019442" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="19418989"></a>
<div id="answer-19418989" class="answer" data-answerid="19418989" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="19418989">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">14</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>I was also very inspired by this response.</p>

<p>I am often on projects where I need to do some HTTP, and I may not want to bring in a lot of 3rd party dependencies (which bring in others and so on and so on, etc.)</p>

<p>I started to write my own utilities based on some of this conversation (not any where done):</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="kwd">package</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">boon</span><span class="pun">.</span><span class="pln">utils</span><span class="pun">;</span><span class="pln">


</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.</span><span class="typ">IOException</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.</span><span class="typ">InputStream</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">net</span><span class="pun">.</span><span class="typ">HttpURLConnection</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">net</span><span class="pun">.</span><span class="pln">URL</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">net</span><span class="pun">.</span><span class="typ">URLConnection</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.</span><span class="typ">Map</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">boon</span><span class="pun">.</span><span class="pln">utils</span><span class="pun">.</span><span class="pln">IO</span><span class="pun">.</span><span class="pln">read</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> HTTP </span><span class="pun">{</span></code></pre>

<p>Then there are just a bunch or static methods.</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> get</span><span class="pun">(</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="typ">Exceptions</span><span class="pun">.</span><span class="pln">tryIt</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">;</span><span class="pln">
        connection </span><span class="pun">=</span><span class="pln"> doGet</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> extractResponseString</span><span class="pun">(</span><span class="pln">connection</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getWithHeaders</span><span class="pun">(</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> headers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        connection </span><span class="pun">=</span><span class="pln"> doGet</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> extractResponseString</span><span class="pun">(</span><span class="pln">connection</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> ex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Exceptions</span><span class="pun">.</span><span class="pln">handle</span><span class="pun">(</span><span class="pln">ex</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getWithContentType</span><span class="pun">(</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln">
        </span><span class="typ">String</span><span class="pln"> contentType</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        connection </span><span class="pun">=</span><span class="pln"> doGet</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> contentType</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> extractResponseString</span><span class="pun">(</span><span class="pln">connection</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> ex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Exceptions</span><span class="pun">.</span><span class="pln">handle</span><span class="pun">(</span><span class="pln">ex</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getWithCharSet</span><span class="pun">(</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln">
        </span><span class="typ">String</span><span class="pln"> contentType</span><span class="pun">,</span><span class="pln">
        </span><span class="typ">String</span><span class="pln"> charSet</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        connection </span><span class="pun">=</span><span class="pln"> doGet</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> contentType</span><span class="pun">,</span><span class="pln"> charSet</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> extractResponseString</span><span class="pun">(</span><span class="pln">connection</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> ex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Exceptions</span><span class="pun">.</span><span class="pln">handle</span><span class="pun">(</span><span class="pln">ex</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>Then post...</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> postBody</span><span class="pun">(</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> body</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        connection </span><span class="pun">=</span><span class="pln"> doPost</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">"text/plain"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> body</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> extractResponseString</span><span class="pun">(</span><span class="pln">connection</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> ex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Exceptions</span><span class="pun">.</span><span class="pln">handle</span><span class="pun">(</span><span class="pln">ex</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> postBodyWithHeaders</span><span class="pun">(</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> body</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        connection </span><span class="pun">=</span><span class="pln"> doPost</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">"text/plain"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> body</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> extractResponseString</span><span class="pun">(</span><span class="pln">connection</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> ex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Exceptions</span><span class="pun">.</span><span class="pln">handle</span><span class="pun">(</span><span class="pln">ex</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">



</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> postBodyWithContentType</span><span class="pun">(</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> contentType</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> body</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        connection </span><span class="pun">=</span><span class="pln"> doPost</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> contentType</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> body</span><span class="pun">);</span><span class="pln">


        </span><span class="kwd">return</span><span class="pln"> extractResponseString</span><span class="pun">(</span><span class="pln">connection</span><span class="pun">);</span><span class="pln">


    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> ex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Exceptions</span><span class="pun">.</span><span class="pln">handle</span><span class="pun">(</span><span class="pln">ex</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">


</span><span class="pun">}</span><span class="pln">


</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> postBodyWithCharset</span><span class="pun">(</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> url</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> contentType</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> charSet</span><span class="pun">,</span><span class="pln">
        </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> body</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        connection </span><span class="pun">=</span><span class="pln"> doPost</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> contentType</span><span class="pun">,</span><span class="pln"> charSet</span><span class="pun">,</span><span class="pln"> body</span><span class="pun">);</span><span class="pln">


        </span><span class="kwd">return</span><span class="pln"> extractResponseString</span><span class="pun">(</span><span class="pln">connection</span><span class="pun">);</span><span class="pln">


    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> ex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Exceptions</span><span class="pun">.</span><span class="pln">handle</span><span class="pun">(</span><span class="pln">ex</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">


</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">URLConnection</span><span class="pln"> doPost</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> url</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln">
                                    </span><span class="typ">String</span><span class="pln"> contentType</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> charset</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> body
                                    </span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">IOException</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">;</span><span class="com">/* Handle output. */</span><span class="pln">
    connection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
    connection</span><span class="pun">.</span><span class="pln">setDoOutput</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
    manageContentTypeHeaders</span><span class="pun">(</span><span class="pln">contentType</span><span class="pun">,</span><span class="pln"> charset</span><span class="pun">,</span><span class="pln"> connection</span><span class="pun">);</span><span class="pln">

    manageHeaders</span><span class="pun">(</span><span class="pln">headers</span><span class="pun">,</span><span class="pln"> connection</span><span class="pun">);</span><span class="pln">


    IO</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="pln">connection</span><span class="pun">.</span><span class="pln">getOutputStream</span><span class="pun">(),</span><span class="pln"> body</span><span class="pun">,</span><span class="pln"> IO</span><span class="pun">.</span><span class="pln">CHARSET</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> connection</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> manageHeaders</span><span class="pun">(</span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">headers </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Map</span><span class="pun">.</span><span class="typ">Entry</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> entry </span><span class="pun">:</span><span class="pln"> headers</span><span class="pun">.</span><span class="pln">entrySet</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            connection</span><span class="pun">.</span><span class="pln">setRequestProperty</span><span class="pun">(</span><span class="pln">entry</span><span class="pun">.</span><span class="pln">getKey</span><span class="pun">(),</span><span class="pln"> entry</span><span class="pun">.</span><span class="pln">getValue</span><span class="pun">().</span><span class="pln">toString</span><span class="pun">());</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> manageContentTypeHeaders</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> contentType</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> charset</span><span class="pun">,</span><span class="pln"> </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    connection</span><span class="pun">.</span><span class="pln">setRequestProperty</span><span class="pun">(</span><span class="str">"Accept-Charset"</span><span class="pun">,</span><span class="pln"> charset </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> IO</span><span class="pun">.</span><span class="pln">CHARSET </span><span class="pun">:</span><span class="pln"> charset</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">contentType</span><span class="pun">!=</span><span class="kwd">null</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">contentType</span><span class="pun">.</span><span class="pln">isEmpty</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        connection</span><span class="pun">.</span><span class="pln">setRequestProperty</span><span class="pun">(</span><span class="str">"Content-Type"</span><span class="pun">,</span><span class="pln"> contentType</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">URLConnection</span><span class="pln"> doGet</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> url</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">&gt;</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln">
                                    </span><span class="typ">String</span><span class="pln"> contentType</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> charset</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">IOException</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">;</span><span class="com">/* Handle output. */</span><span class="pln">
    connection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
    manageContentTypeHeaders</span><span class="pun">(</span><span class="pln">contentType</span><span class="pun">,</span><span class="pln"> charset</span><span class="pun">,</span><span class="pln"> connection</span><span class="pun">);</span><span class="pln">

    manageHeaders</span><span class="pun">(</span><span class="pln">headers</span><span class="pun">,</span><span class="pln"> connection</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> connection</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> extractResponseString</span><span class="pun">(</span><span class="typ">URLConnection</span><span class="pln"> connection</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">IOException</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="com">/* Handle input. */</span><span class="pln">
    </span><span class="typ">HttpURLConnection</span><span class="pln"> http </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">HttpURLConnection</span><span class="pun">)</span><span class="pln">connection</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> status </span><span class="pun">=</span><span class="pln"> http</span><span class="pun">.</span><span class="pln">getResponseCode</span><span class="pun">();</span><span class="pln">
    </span><span class="typ">String</span><span class="pln"> charset </span><span class="pun">=</span><span class="pln"> getCharset</span><span class="pun">(</span><span class="pln">connection</span><span class="pun">.</span><span class="pln">getHeaderField</span><span class="pun">(</span><span class="str">"Content-Type"</span><span class="pun">));</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">status</span><span class="pun">==</span><span class="lit">200</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> readResponseBody</span><span class="pun">(</span><span class="pln">http</span><span class="pun">,</span><span class="pln"> charset</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> readErrorResponseBody</span><span class="pun">(</span><span class="pln">http</span><span class="pun">,</span><span class="pln"> status</span><span class="pun">,</span><span class="pln"> charset</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> readErrorResponseBody</span><span class="pun">(</span><span class="typ">HttpURLConnection</span><span class="pln"> http</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> status</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> charset</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">InputStream</span><span class="pln"> errorStream </span><span class="pun">=</span><span class="pln"> http</span><span class="pun">.</span><span class="pln">getErrorStream</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> errorStream</span><span class="pun">!=</span><span class="kwd">null</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">String</span><span class="pln"> error </span><span class="pun">=</span><span class="pln"> charset</span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> read</span><span class="pun">(</span><span class="pln"> errorStream </span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln">
            read</span><span class="pun">(</span><span class="pln"> errorStream</span><span class="pun">,</span><span class="pln"> charset </span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RuntimeException</span><span class="pun">(</span><span class="str">"STATUS CODE ="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> status </span><span class="pun">+</span><span class="pln"> </span><span class="str">"\n\n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RuntimeException</span><span class="pun">(</span><span class="str">"STATUS CODE ="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> status</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> readResponseBody</span><span class="pun">(</span><span class="typ">HttpURLConnection</span><span class="pln"> http</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> charset</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">IOException</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">charset </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> read</span><span class="pun">(</span><span class="pln">http</span><span class="pun">.</span><span class="pln">getInputStream</span><span class="pun">(),</span><span class="pln"> charset</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> read</span><span class="pun">(</span><span class="pln">http</span><span class="pun">.</span><span class="pln">getInputStream</span><span class="pun">());</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getCharset</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> contentType</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">contentType</span><span class="pun">==</span><span class="kwd">null</span><span class="pun">)</span><span class="pln">  </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="typ">String</span><span class="pln"> charset </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">String</span><span class="pln"> param </span><span class="pun">:</span><span class="pln"> contentType</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="str">" "</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">).</span><span class="pln">split</span><span class="pun">(</span><span class="str">";"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">param</span><span class="pun">.</span><span class="pln">startsWith</span><span class="pun">(</span><span class="str">"charset="</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            charset </span><span class="pun">=</span><span class="pln"> param</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">"="</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    charset </span><span class="pun">=</span><span class="pln"> charset </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">?</span><span class="pln">  IO</span><span class="pun">.</span><span class="pln">CHARSET </span><span class="pun">:</span><span class="pln"> charset</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> charset</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>Well you get the idea....</p>

<p>Here are the tests:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="kwd">static</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MyHandler</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">HttpHandler</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> handle</span><span class="pun">(</span><span class="typ">HttpExchange</span><span class="pln"> t</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">IOException</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

        </span><span class="typ">InputStream</span><span class="pln"> requestBody </span><span class="pun">=</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">getRequestBody</span><span class="pun">();</span><span class="pln">
        </span><span class="typ">String</span><span class="pln"> body </span><span class="pun">=</span><span class="pln"> IO</span><span class="pun">.</span><span class="pln">read</span><span class="pun">(</span><span class="pln">requestBody</span><span class="pun">);</span><span class="pln">
        </span><span class="typ">Headers</span><span class="pln"> requestHeaders </span><span class="pun">=</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">getRequestHeaders</span><span class="pun">();</span><span class="pln">
        body </span><span class="pun">=</span><span class="pln"> body </span><span class="pun">+</span><span class="pln"> </span><span class="str">"\n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> copy</span><span class="pun">(</span><span class="pln">requestHeaders</span><span class="pun">).</span><span class="pln">toString</span><span class="pun">();</span><span class="pln">
        t</span><span class="pun">.</span><span class="pln">sendResponseHeaders</span><span class="pun">(</span><span class="lit">200</span><span class="pun">,</span><span class="pln"> body</span><span class="pun">.</span><span class="pln">length</span><span class="pun">());</span><span class="pln">
        </span><span class="typ">OutputStream</span><span class="pln"> os </span><span class="pun">=</span><span class="pln"> t</span><span class="pun">.</span><span class="pln">getResponseBody</span><span class="pun">();</span><span class="pln">
        os</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="pln">body</span><span class="pun">.</span><span class="pln">getBytes</span><span class="pun">());</span><span class="pln">
        os</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">


</span><span class="lit">@Test</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> testHappy</span><span class="pun">()</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">Exception</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="typ">HttpServer</span><span class="pln"> server </span><span class="pun">=</span><span class="pln"> </span><span class="typ">HttpServer</span><span class="pun">.</span><span class="pln">create</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">InetSocketAddress</span><span class="pun">(</span><span class="lit">9212</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    server</span><span class="pun">.</span><span class="pln">createContext</span><span class="pun">(</span><span class="str">"/test"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MyHandler</span><span class="pun">());</span><span class="pln">
    server</span><span class="pun">.</span><span class="pln">setExecutor</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">);</span><span class="pln"> </span><span class="com">// creates a default executor</span><span class="pln">
    server</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">

    </span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);</span><span class="pln">


    </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> headers </span><span class="pun">=</span><span class="pln"> map</span><span class="pun">(</span><span class="str">"foo"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"bar"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"fun"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"sun"</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">String</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> HTTP</span><span class="pun">.</span><span class="pln">postBodyWithContentType</span><span class="pun">(</span><span class="str">"http://localhost:9212/test"</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">"text/plain"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hi mom"</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">

    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"hi mom"</span><span class="pun">));</span><span class="pln">
    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"Fun=[sun], Foo=[bar]"</span><span class="pun">));</span><span class="pln">


    response </span><span class="pun">=</span><span class="pln"> HTTP</span><span class="pun">.</span><span class="pln">postBodyWithCharset</span><span class="pun">(</span><span class="str">"http://localhost:9212/test"</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">"text/plain"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"UTF-8"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hi mom"</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">

    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"hi mom"</span><span class="pun">));</span><span class="pln">
    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"Fun=[sun], Foo=[bar]"</span><span class="pun">));</span><span class="pln">

    response </span><span class="pun">=</span><span class="pln"> HTTP</span><span class="pun">.</span><span class="pln">postBodyWithHeaders</span><span class="pun">(</span><span class="str">"http://localhost:9212/test"</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hi mom"</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">

    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"hi mom"</span><span class="pun">));</span><span class="pln">
    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"Fun=[sun], Foo=[bar]"</span><span class="pun">));</span><span class="pln">


    response </span><span class="pun">=</span><span class="pln"> HTTP</span><span class="pun">.</span><span class="pln">get</span><span class="pun">(</span><span class="str">"http://localhost:9212/test"</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">


    response </span><span class="pun">=</span><span class="pln"> HTTP</span><span class="pun">.</span><span class="pln">getWithHeaders</span><span class="pun">(</span><span class="str">"http://localhost:9212/test"</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">

    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"Fun=[sun], Foo=[bar]"</span><span class="pun">));</span><span class="pln">



    response </span><span class="pun">=</span><span class="pln"> HTTP</span><span class="pun">.</span><span class="pln">getWithContentType</span><span class="pun">(</span><span class="str">"http://localhost:9212/test"</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">"text/plain"</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">

    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"Fun=[sun], Foo=[bar]"</span><span class="pun">));</span><span class="pln">



    response </span><span class="pun">=</span><span class="pln"> HTTP</span><span class="pun">.</span><span class="pln">getWithCharSet</span><span class="pun">(</span><span class="str">"http://localhost:9212/test"</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">"text/plain"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"UTF-8"</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">

    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"Fun=[sun], Foo=[bar]"</span><span class="pun">));</span><span class="pln">

    </span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);</span><span class="pln">

    server</span><span class="pun">.</span><span class="pln">stop</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">


</span><span class="pun">}</span><span class="pln">

</span><span class="lit">@Test</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> testPostBody</span><span class="pun">()</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">Exception</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="typ">HttpServer</span><span class="pln"> server </span><span class="pun">=</span><span class="pln"> </span><span class="typ">HttpServer</span><span class="pun">.</span><span class="pln">create</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">InetSocketAddress</span><span class="pun">(</span><span class="lit">9220</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    server</span><span class="pun">.</span><span class="pln">createContext</span><span class="pun">(</span><span class="str">"/test"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MyHandler</span><span class="pun">());</span><span class="pln">
    server</span><span class="pun">.</span><span class="pln">setExecutor</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">);</span><span class="pln"> </span><span class="com">// creates a default executor</span><span class="pln">
    server</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">

    </span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);</span><span class="pln">


    </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> headers </span><span class="pun">=</span><span class="pln"> map</span><span class="pun">(</span><span class="str">"foo"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"bar"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"fun"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"sun"</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">String</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> HTTP</span><span class="pun">.</span><span class="pln">postBody</span><span class="pun">(</span><span class="str">"http://localhost:9220/test"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hi mom"</span><span class="pun">);</span><span class="pln">

    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"hi mom"</span><span class="pun">));</span><span class="pln">


    </span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);</span><span class="pln">

    server</span><span class="pun">.</span><span class="pln">stop</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">


</span><span class="pun">}</span><span class="pln">

</span><span class="lit">@Test</span><span class="pun">(</span><span class="pln">expected </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RuntimeException</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> testSad</span><span class="pun">()</span><span class="pln"> </span><span class="kwd">throws</span><span class="pln"> </span><span class="typ">Exception</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="typ">HttpServer</span><span class="pln"> server </span><span class="pun">=</span><span class="pln"> </span><span class="typ">HttpServer</span><span class="pun">.</span><span class="pln">create</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">InetSocketAddress</span><span class="pun">(</span><span class="lit">9213</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    server</span><span class="pun">.</span><span class="pln">createContext</span><span class="pun">(</span><span class="str">"/test"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MyHandler</span><span class="pun">());</span><span class="pln">
    server</span><span class="pun">.</span><span class="pln">setExecutor</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">);</span><span class="pln"> </span><span class="com">// creates a default executor</span><span class="pln">
    server</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">

    </span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);</span><span class="pln">


    </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> headers </span><span class="pun">=</span><span class="pln"> map</span><span class="pun">(</span><span class="str">"foo"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"bar"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"fun"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"sun"</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">String</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> HTTP</span><span class="pun">.</span><span class="pln">postBodyWithContentType</span><span class="pun">(</span><span class="str">"http://localhost:9213/foo"</span><span class="pun">,</span><span class="pln"> headers</span><span class="pun">,</span><span class="pln"> </span><span class="str">"text/plain"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"hi mom"</span><span class="pun">);</span><span class="pln">

    </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">

    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"hi mom"</span><span class="pun">));</span><span class="pln">
    assertTrue</span><span class="pun">(</span><span class="pln">response</span><span class="pun">.</span><span class="pln">contains</span><span class="pun">(</span><span class="str">"Fun=[sun], Foo=[bar]"</span><span class="pun">));</span><span class="pln">

    </span><span class="typ">Thread</span><span class="pun">.</span><span class="pln">sleep</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);</span><span class="pln">

    server</span><span class="pun">.</span><span class="pln">stop</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">


</span><span class="pun">}</span></code></pre>

<p>You can find the rest here:</p>

<p><a href="https://github.com/RichardHightower/boon">https://github.com/RichardHightower/boon</a></p>

<p>My goal is to provide the common things one would want to do in a bit more easier way then....</p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/19418989" title="short permalink to this answer" class="short-link" id="link-post-19418989">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/19418989/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="http://stackoverflow.com/posts/19418989/revisions" title="show all edits to this post"><span title="2013-10-17 05:35:17Z" class="relativetime">Oct 17 '13 at 5:35</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Oct 17 &#39;13 at 5:35. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-19418989" href="http://stackoverflow.com/posts/19418989/revisions" title="show revision history for this post">
        RickHigh
        </a>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-19418989" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-30192476" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">It's odd that in the <code>doPost</code> method there is a <code>charset</code> param, that is used to set request header, but then the data is written with some hard-coded charset <code>IO.CHARSET</code>. A bug?</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/247013/arhimed" title="23,439 reputation" class="comment-user">Arhimed</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment30192476_19418989"><span title="2013-11-27 13:48:04Z" class="relativetime-clean">Nov 27 '13 at 13:48</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-19418989" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="26556900"></a>
<div id="answer-26556900" class="answer" data-answerid="26556900" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="26556900">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">14</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>I suggest you take a look at the code on <a href="https://github.com/kevinsawicki/http-request">kevinsawicki/http-request</a>, its basically a wrapper on top of <code>HttpUrlConnection</code> it provides a much simpler API in case you just want to make the requests right now or you can take a look at the sources (it's not too big) to take a look at how connections are handled.</p>

<p>Example: Make a <code>GET</code> request with content type <code>application/json</code> and some query parameters:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="com">// GET http://google.com?q=baseball%20gloves&amp;size=100</span><span class="pln">
</span><span class="typ">String</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> </span><span class="typ">HttpRequest</span><span class="pun">.</span><span class="pln">get</span><span class="pun">(</span><span class="str">"http://google.com"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="str">"q"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"baseball gloves"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"size"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">accept</span><span class="pun">(</span><span class="str">"application/json"</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">body</span><span class="pun">();</span><span class="pln">
</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Response was: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> response</span><span class="pun">);</span></code></pre>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/26556900" title="short permalink to this answer" class="short-link" id="link-post-26556900">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/26556900/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="http://stackoverflow.com/posts/26556900/revisions" title="show all edits to this post">edited <span title="2014-11-24 13:43:51Z" class="relativetime">Nov 24 '14 at 13:43</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Oct 24 &#39;14 at 21:57. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-26556900" href="http://stackoverflow.com/posts/26556900/revisions" title="show revision history for this post">
        4 revs, 2 users 92%<br></a><a href="http://stackoverflow.com/users/718333">fernandohur</a>
        
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-26556900" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-26556900" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="27547168"></a>
<div id="answer-27547168" class="answer" data-answerid="27547168" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="27547168">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">13</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>There are 2 options you can go with HTTP URL Hits : GET / POST</p>

<p>GET Request :-</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">String</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">"https://name_of_the_url"</span><span class="pun">;</span><span class="pln">
URL request_url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
http_conn </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">HttpURLConnection</span><span class="pun">)</span><span class="pln">request_url</span><span class="pun">.</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
http_conn</span><span class="pun">.</span><span class="pln">setFollowRedirects</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
http_conn</span><span class="pun">.</span><span class="pln">setConnectTimeout</span><span class="pun">(</span><span class="lit">100000</span><span class="pun">);</span><span class="pln">
http_conn</span><span class="pun">.</span><span class="pln">setReadTimeout</span><span class="pun">(</span><span class="lit">100000</span><span class="pun">);</span><span class="pln">
http_conn</span><span class="pun">.</span><span class="pln">setInstanceFollowRedirects</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="typ">String</span><span class="pun">.</span><span class="pln">valueOf</span><span class="pun">(</span><span class="pln">http_conn</span><span class="pun">.</span><span class="pln">getResponseCode</span><span class="pun">()));</span></code></pre>

<p>POST request :-</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">String</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">"https://name_of_the_url"</span><span class="pln">
URL request_url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> URL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
</span><span class="typ">HttpURLConnection</span><span class="pln"> http_conn </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">HttpURLConnection</span><span class="pun">)</span><span class="pln"> request_url</span><span class="pun">.</span><span class="pln">openConnection</span><span class="pun">();</span><span class="pln">
</span><span class="typ">HttpURLConnection</span><span class="pun">.</span><span class="pln">setFollowRedirects</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
http_conn</span><span class="pun">.</span><span class="pln">setConnectTimeout</span><span class="pun">(</span><span class="lit">100000</span><span class="pun">);</span><span class="pln">
http_conn</span><span class="pun">.</span><span class="pln">setReadTimeout</span><span class="pun">(</span><span class="lit">100000</span><span class="pun">);</span><span class="pln">
http_conn</span><span class="pun">.</span><span class="pln">setDoOutput</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
</span><span class="typ">PrintWriter</span><span class="pln"> out </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">PrintWriter</span><span class="pun">(</span><span class="pln">http_conn</span><span class="pun">.</span><span class="pln">getOutputStream</span><span class="pun">());</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">urlparameter </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">urlparameter</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
out</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln">
out </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
</span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="typ">String</span><span class="pun">.</span><span class="pln">valueOf</span><span class="pun">(</span><span class="pln">http_conn</span><span class="pun">.</span><span class="pln">getResponseCode</span><span class="pun">()));</span></code></pre>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/27547168" title="short permalink to this answer" class="short-link" id="link-post-27547168">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/27547168/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="http://stackoverflow.com/posts/27547168/revisions" title="show all edits to this post">edited <span title="2016-11-24 13:15:26Z" class="relativetime">Nov 24 '16 at 13:15</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Dec 18 &#39;14 at 12:58. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-27547168" href="http://stackoverflow.com/posts/27547168/revisions" title="show revision history for this post">
        2 revs, 2 users 98%<br></a><a href="http://stackoverflow.com/users/3201107">Utkash Bhatt</a>
        
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-27547168" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-46748615" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="cool">4</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">There are quite a few more: PUT, DELETE, HEAD, ...</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/207421/ejp" title="208,103 reputation" class="comment-user">EJP</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment46748615_27547168"><span title="2015-03-26 09:19:48Z" class="relativetime-clean">Mar 26 '15 at 9:19</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-27547168" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="32781880"></a>
<div id="answer-32781880" class="answer" data-answerid="32781880" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="32781880">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">8</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>Initially I was misled by this <a href="http://www.innovation.ch/java/HTTPClient/urlcon_vs_httpclient.html">article</a> which favours <code>HttpClient</code>. </p>

<p>Later I have been realized that <code>HttpURLConnection</code> is going to stay from this <a href="https://github.com/loopj/android-async-http/issues/75">article</a></p>

<p><strong>As per the Google blog</strong>:</p>

<blockquote>
  <p>Apache HTTP client has fewer bugs on Eclair and Froyo. It is the best choice for these releases. For Gingerbread , HttpURLConnection is the best choice. Its simple API and small size makes it great fit for Android.</p>
  
  <p>Transparent compression and response caching reduce network use, improve speed and save battery. New applications should use HttpURLConnection; it is where we will be spending our energy going forward.</p>
</blockquote>

<p>After reading <a href="http://www.rapidvaluesolutions.com/tech_blog/introduction-to-httpurlconnection-http-client-for-performing-efficient-network-operations/">this article</a> and some other stack over flow questions, I am convinced that <code>HttpURLConnection</code> is going to stay for longer durations.</p>

<p>Some of the SE questions favouring <code>HttpURLConnections</code>:</p>

<p><a href="http://stackoverflow.com/questions/4330392/on-android-make-a-post-request-with-url-encoded-form-data-without-using-urlenco/4794289#4794289">On Android, make a POST request with URL Encoded Form data without using UrlEncodedFormEntity</a></p>

<p><a href="http://stackoverflow.com/questions/4221420/httppost-works-in-java-project-not-in-android">HttpPost works in Java project, not in Android</a></p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/32781880" title="short permalink to this answer" class="short-link" id="link-post-32781880">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/32781880/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="http://stackoverflow.com/posts/32781880/revisions" title="show all edits to this post">edited <span title="2016-05-13 13:49:18Z" class="relativetime">May 13 '16 at 13:49</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Sep 25 &#39;15 at 12:07. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-32781880" href="http://stackoverflow.com/posts/32781880/revisions" title="show revision history for this post">
        4 revs<br></a><a href="http://stackoverflow.com/users/4999394">Ravindra babu</a>
        
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-32781880" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-32781880" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="20239958"></a>
<div id="answer-20239958" class="answer" data-answerid="20239958" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="20239958">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">7</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>You can also use <a href="http://http.jcabi.com/apidocs-1.0/com/jcabi/http/request/JdkRequest.html"><code>JdkRequest</code></a> from <a href="http://http.jcabi.com/">jcabi-http</a> (I'm a developer), which does all this work for you, decorating HttpURLConnection, firing HTTP requests and parsing responses, for example:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">String</span><span class="pln"> html </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">JdkRequest</span><span class="pun">(</span><span class="str">"http://www.google.com"</span><span class="pun">).</span><span class="pln">fetch</span><span class="pun">().</span><span class="pln">body</span><span class="pun">();</span></code></pre>

<p>Check this blog post for more info: <a href="http://www.yegor256.com/2014/04/11/jcabi-http-intro.html">http://www.yegor256.com/2014/04/11/jcabi-http-intro.html</a></p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/20239958" title="short permalink to this answer" class="short-link" id="link-post-20239958">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/20239958/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="http://stackoverflow.com/posts/20239958/revisions" title="show all edits to this post">edited <span title="2014-04-11 18:54:16Z" class="relativetime">Apr 11 '14 at 18:54</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Nov 27 &#39;13 at 10:31. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-20239958" href="http://stackoverflow.com/posts/20239958/revisions" title="show revision history for this post">
        3 revs<br></a><a href="http://stackoverflow.com/users/187141">yegor256</a>
        
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-20239958" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-44725309" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">How do you handle cookies?</span>
                    –&nbsp;<a href="http://stackoverflow.com/users/264419/dejell" title="4,467 reputation" class="comment-user">Dejell</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#comment44725309_20239958"><span title="2015-01-27 19:08:05Z" class="relativetime-clean">Jan 27 '15 at 19:08</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-20239958" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="34810741"></a>
<div id="answer-34810741" class="answer" data-answerid="34810741" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="34810741">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">6</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>There is also <a href="http://square.github.io/okhttp/">OkHttp</a>, which is an HTTP client that’s efficient by default:</p>

<blockquote>
  <ul>
  <li>HTTP/2 support allows all requests to the same host to share a    socket.</li>
  <li>Connection pooling reduces request latency (if HTTP/2 isn’t    available).</li>
  <li>Transparent GZIP shrinks download sizes.</li>
  <li>Response caching avoids the network completely for repeat requests.</li>
  </ul>
</blockquote>

<p>First create an instance of <code>OkHttpClient</code>:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">OkHttpClient</span><span class="pln"> client </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">OkHttpClient</span><span class="pun">();</span></code></pre>

<p>Then, prepare your <code>GET</code> request:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">Request</span><span class="pln"> request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Request</span><span class="pun">.</span><span class="typ">Builder</span><span class="pun">()</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">url</span><span class="pun">(</span><span class="pln">url</span><span class="pun">)</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">build</span><span class="pun">();</span></code></pre>

<p>finally, use <code>OkHttpClient</code> to send prepared <code>Request</code>:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="typ">Response</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> client</span><span class="pun">.</span><span class="pln">newCall</span><span class="pun">(</span><span class="pln">request</span><span class="pun">).</span><span class="pln">execute</span><span class="pun">();</span></code></pre>

<p>For more details, you can consult the <a href="https://github.com/square/okhttp/wiki">OkHttp's documentation</a></p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/34810741" title="short permalink to this answer" class="short-link" id="link-post-34810741">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/34810741/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="http://stackoverflow.com/posts/34810741/revisions" title="show all edits to this post"><span title="2016-01-15 12:06:33Z" class="relativetime">Jan 15 '16 at 12:06</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Jan 15 &#39;16 at 12:06. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-34810741" href="http://stackoverflow.com/posts/34810741/revisions" title="show revision history for this post">
        Ali Dehghani
        </a>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-34810741" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-34810741" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="36932953"></a>
<div id="answer-36932953" class="answer" data-answerid="36932953" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="36932953">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">6</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>In Java 9, you can send a <code>GET</code> request like:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="com">// GET</span><span class="pln">
</span><span class="typ">HttpResponse</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> </span><span class="typ">HttpRequest</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">create</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> URI</span><span class="pun">(</span><span class="str">"http://www.stackoverflow.com"</span><span class="pun">))</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">headers</span><span class="pun">(</span><span class="str">"Foo"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"foovalue"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Bar"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"barvalue"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">GET</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">response</span><span class="pun">();</span></code></pre>

<p>Then you can examine the returned <code>HttpResponse</code>:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="kwd">int</span><span class="pln"> statusCode </span><span class="pun">=</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">statusCode</span><span class="pun">();</span><span class="pln">
</span><span class="typ">String</span><span class="pln"> responseBody </span><span class="pun">=</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">body</span><span class="pun">(</span><span class="typ">HttpResponse</span><span class="pun">.</span><span class="pln">asString</span><span class="pun">());</span></code></pre>

<p>Since this new HTTP Client is in <code>java.httpclient</code> module, you should declare this dependency in your <code>module-info.java</code> file:</p>

<pre class="lang-java prettyprint prettyprinted"><code><span class="pln">module com</span><span class="pun">.</span><span class="pln">foo</span><span class="pun">.</span><span class="pln">bar </span><span class="pun">{</span><span class="pln">
    requires java</span><span class="pun">.</span><span class="pln">httpclient</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/36932953" title="short permalink to this answer" class="short-link" id="link-post-36932953">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/36932953/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="http://stackoverflow.com/posts/36932953/revisions" title="show all edits to this post"><span title="2016-04-29 08:07:36Z" class="relativetime">Apr 29 '16 at 8:07</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Apr 29 &#39;16 at 8:07. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-36932953" href="http://stackoverflow.com/posts/36932953/revisions" title="show revision history for this post">
        Ali Dehghani
        </a>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-36932953" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-36932953" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>

  
<a name="36442479"></a>
<div id="answer-36442479" class="answer" data-answerid="36442479" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="36442479">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">4</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>if you are using http get please remove this line
 urlConnection.setDoOutput(true);</p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/36442479" title="short permalink to this answer" class="short-link" id="link-post-36442479">share</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/36442479/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        answered <a href="http://stackoverflow.com/posts/36442479/revisions" title="show all edits to this post"><span title="2016-04-06 05:43:09Z" class="relativetime">Apr 6 '16 at 5:43</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info">
    <div class="user-details">
        <span class="community-wiki" title="This post is community owned as of Apr 6 &#39;16 at 5:43. Votes do not generate reputation, and it can be edited by users with 100 rep">
            community wiki
        </span>
    </div><br>
    <div class="user-details">
        <a id="history-36442479" href="http://stackoverflow.com/posts/36442479/revisions" title="show revision history for this post">
        Nison Cheruvathur
        </a>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-36442479" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-36442479" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" onclick=""></a>
        </div>         
    </td>
</tr>    </tbody></table>
</div>
				    <div class="question-status">
        <h2>                    <b>protected</b> by <a href="http://stackoverflow.com/users/157882/balusc">BalusC</a> <span dir="ltr"><span title="2011-05-09 18:30:37Z" class="relativetime">May 9 '11 at 18:30</span></span>
</h2>
        <p>
Thank you for your interest in this question. 
Because it has attracted low-quality or spam answers that had to be removed, posting an answer now requires 10 <a href="http://stackoverflow.com/help/whats-reputation">reputation</a> on this site (the <a href="http://stackoverflow.com/help/privileges/new-user">association bonus does not count</a>).
<br><br>
Would you like to answer one of these <a href="http://stackoverflow.com/unanswered?fromProtectedNotice=true">unanswered questions</a> instead?
</p>
    </div>





						<h2 class="bottom-notice" data-loc="1">
Not the answer you're looking for?							Browse other questions tagged <a href="http://stackoverflow.com/questions/tagged/java" class="post-tag" title="show questions tagged &#39;java&#39;" rel="tag">java</a> <a href="http://stackoverflow.com/questions/tagged/http" class="post-tag" title="show questions tagged &#39;http&#39;" rel="tag">http</a> <a href="http://stackoverflow.com/questions/tagged/httprequest" class="post-tag" title="show questions tagged &#39;httprequest&#39;" rel="tag">httprequest</a> <a href="http://stackoverflow.com/questions/tagged/httpurlconnection" class="post-tag" title="show questions tagged &#39;httpurlconnection&#39;" rel="tag">httpurlconnection</a> <a href="http://stackoverflow.com/questions/tagged/urlconnection" class="post-tag" title="show questions tagged &#39;urlconnection&#39;" rel="tag">urlconnection</a>  or <a href="http://stackoverflow.com/questions/ask">ask your own question</a>.						</h2>
			</div>
		</div>
				<div id="sidebar" class="show-votes">
						    <div class="module question-stats">
			        <table id="qinfo">
			            <tbody><tr>
			                <td>
			                    <p class="label-key">asked</p>
			                </td>
			                <td style="padding-left: 10px">
			                    <p class="label-key" title="2010-05-08 06:16:11Z"><b>6 years ago</b></p>
			                </td>
			            </tr>
			            <tr>
			                <td>
			                    <p class="label-key">viewed</p>
			                </td>

			                <td style="padding-left: 10px">
			                    <p class="label-key">
			                        <b>772257 times</b>
			                    </p>
			                </td>
			            </tr>
			                <tr>
			                    <td>
			                        <p class="label-key">active</p>
			                    </td>
			                    <td style="padding-left: 10px">
			                        <p class="label-key"><b><a href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests?lastactivity" class="lastactivity-link" title="2016-11-28 00:50:29Z">3 months ago</a></b></p>
			                    </td>
			                </tr>
			        </tbody></table>
			    </div>
						
			<script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk1545376569",[5,17,2221]).setZone(45); });
            </script>
            <div class="everyonelovesstackoverflow adzerk-vote" id="adzerk1545376569"><iframe id="ados_frame_adzerk1545376569_2729526" frameborder="0" scrolling="no" height="250" width="300" src="./q40_files/saved_resource(2).html"></iframe><div class="adzerk-vote-controls" style="display:none;"><div class="adzerk-vote-option adzerk-vote-up"><div class="adzerk-vote-icon"></div></div><div class="adzerk-vote-option adzerk-vote-down"><div class="adzerk-vote-icon"></div></div></div><div class="adzerk-vote-survey" style="display:none;"><form><span>No problem. We won't show you that ad again. Why didn't you like it?</span><ul><li><label><input type="radio" value="12" name="downvoteReason">Uninteresting</label></li><li><label><input type="radio" value="13" name="downvoteReason">Misleading</label></li><li><label><input type="radio" value="14" name="downvoteReason">Offensive</label></li><li><label><input type="radio" value="15" name="downvoteReason">Repetitive</label></li><li><label><input type="radio" value="16" name="downvoteReason">Other</label></li></ul><a href="http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests#" class="adzerk-vote-cancel">Oops! I didn't mean to do this.</a></form></div><img height="0px" width="0px" border="0" style="position:absolute;" src="./q40_files/i(2).gif"></div>
            <div id="hireme" class="clc-jobs-multi blue tagged"><a class="top " href="https://stackoverflow.com/jobs" target="_blank" data-clc-click="https://clc.stackoverflow.com/click?an=4wwMPsGglHDFg_XxCj9PJiYGBgYBBhDYN0-LITtGg4HhBBAzMDP0bACJMjICCSbpJmEmBolJzAzszAwsB0wtNlum9k60m63nwMCQ4wxUxMyQcoAxrd0yYMdcO0aWrMSyRIZAi9n7Mj34Nzb3AwA&amp;cr=10440&amp;ct=1&amp;url=https%3A%2F%2Fstackoverflow.com%2Fjobs&amp;sig=wv9j8tLuPPTuGg"><span>Looking for a job?</span></a><div class="middle"><ul class="jobs"><li class="&quot;clc-dismissable&quot;"><div class="job-wrap"><a class="job" title="Wanted: Master of Java at Concirrus Ltd. Click to learn more." href="https://stackoverflow.com/jobs/130300/wanted-master-of-java-concirrus-ltd" target="_blank" data-clc-click="https://clc.stackoverflow.com/click?an=4wwMPsGglHDFg_XxCj9PJiYGBgYBBhDYN0-LITtGg4HhBBAzMDP0bACJMjICCSbpJmEmBolJzAzszAwsB0wtNlum9k60m63nwMCQ4wxUxMyQcoAxrd0yYMdcO0aWrMSyRIZAi9n7Mj34Nzb3AwA&amp;cr=234008&amp;ct=0&amp;url=https%3A%2F%2Fstackoverflow.com%2Fjobs%2F130300%2Fwanted-master-of-java-concirrus-ltd&amp;sig=52PSQE6IyuQ3-w"><div class="title">Wanted: Master of Java</div><div><span class="company">Concirrus Ltd</span><span class="location">New Delhi, India</span></div><span class="post-tag">html</span><span class="post-tag">html5</span></a></div><a class="clc-dismiss" data-clc-click="https://clc.stackoverflow.com/click?an=4wwMPsGglHDFg_XxCj9PJiYGBgYBBhDYN0-LITtGg4HhBBAzMDP0bACJMjICCSbpJmEmBolJzAzszAwsB0wtNlum9k60m63nwMCQ4wxUxMyQcoAxrd0yYMdcO0aWrMSyRIZAi9n7Mj34Nzb3AwA&amp;cr=234008&amp;ct=-1&amp;sig=ZB-uXmfBukCACw" data-clc-meta-target="-1"><span class="clc-tooltip above-left">dismiss this job</span></a></li><li class="&quot;clc-dismissable&quot;"><div class="job-wrap"><a class="job" title="Java Chief Software Architect - $100K at Crossover. Click to learn more." href="https://stackoverflow.com/jobs/129483/java-chief-software-architect-100k-crossover" target="_blank" data-clc-click="https://clc.stackoverflow.com/click?an=4wwMPsGglHDFg_XxCj9PJiYGBgYBBhDYN0-LITtGg4HhBBAzMDP0bACJMjICCSbpJmEmBolJzAzszAwsB0wtNlum9k60m63nwMCQ4wxUxMyQcoAxrd0yYMdcO0aWrMSyRIZAi9n7Mj34Nzb3AwA&amp;cr=17260&amp;ct=0&amp;url=https%3A%2F%2Fstackoverflow.com%2Fjobs%2F129483%2Fjava-chief-software-architect-100k-crossover&amp;sig=RZ168J2r5Oz4Gw"><div class="title">Java Chief Software Architect - $100K</div><div><span class="company">Crossover</span><span class="location">No office location</span></div><div class="opts"><span class="opt remote">Remote</span></div><span class="post-tag highlight">java</span><span class="post-tag">cloud</span></a></div><a class="clc-dismiss" data-clc-click="https://clc.stackoverflow.com/click?an=4wwMPsGglHDFg_XxCj9PJiYGBgYBBhDYN0-LITtGg4HhBBAzMDP0bACJMjICCSbpJmEmBolJzAzszAwsB0wtNlum9k60m63nwMCQ4wxUxMyQcoAxrd0yYMdcO0aWrMSyRIZAi9n7Mj34Nzb3AwA&amp;cr=17260&amp;ct=-1&amp;sig=tFYDtH7kuND2ZA" data-clc-meta-target="-1"><span class="clc-tooltip above-left">dismiss this job</span></a></li></ul></div><img src="./q40_files/impression.gif" class="impression" style="display: none;"></div>
        <script>
window.clc_request = 'Ah62WP4hYNQIAAAAAL6eKgACAAAAAgAAAAA3AAAAfGphdmF8aHR0cHxodHRwcmVxdWVzdHxodHRwdXJsY29ubmVjdGlvbnx1cmxjb25uZWN0aW9ufABQ3qQMTl2PkIPn';
;(function(n){var t,u,r,i;try{if(typeof[].indexOf!="function")return;if(window.attachEvent&&!window.addEventListener)return;if(n.allowed[0]!=="*"&&n.allowed.indexOf(location.hostname)===-1)return;if(t=window,t.clc=t.clc||{},u=t.clc_request||t.clcfl_request,u||console.warn("clc_request missing"),t.clc.init=t.clc.init||[],t.clc.init.push(function(n){return n.load()}),t.clc.options){for(r in t.clc.options)n[r]=t.clc.options[r];t.clc.options=n}else t.clc.options=n;i=document.createElement("script");i.async=!0;i.src=n.lib;document.body.appendChild(i)}catch(f){console.error("[clc] Error in loader:",f)}}).call(null, {"azw":true,"kt":2000,"tto":true,"autoload":true,"d":{"sb":["hireme","clc-sb"],"tlb":["careers1","clc-tlb"],"mlb":["careers3","clc-mlb"]},"allowed":["stackoverflow.com","serverfault.com","blog.codinghorror.com","talent.stackoverflow.com"],"h":"clc.stackoverflow.com","u":"https://clc.stackoverflow.com/markup.js","lib":"https://cdn.sstatic.net/clc/clc.min.js?v=bd570ea4a858"});        </script>
			<div style="margin-bottom: 10px;">
        

<script>
    StackExchange.ready(function () {
        StackExchange.newsletterAd.init();
    });
</script>

<div id="newsletter-ad">
        <p id="newsletter-ad-header">Get the <b>weekly newsletter!</b> In it, you'll get:</p>
        <ul>
            <li>The week's top questions and answers</li>
            <li>Important community announcements</li>
            <li>Questions that need answers</li>
        </ul>
    <div id="newsletter-signup-container"><input id="newsletter-signup" type="button" value="Sign up for the newsletter"></div>
    <p id="newsletter-preview-container">see an <a href="http://stackexchange.com/newsletters/newsletter?site=stackoverflow.com" id="newsletter-preview">example newsletter</a></p>
</div>

    </div>

            <div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">

<div class="spacer">
	<a href="http://stackoverflow.com/q/1359689?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted large">306</div>
	</a>
	<a href="http://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java?noredirect=1&amp;lq=1" class="question-hyperlink">How to send HTTP request in java?</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/1485708?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">88</div>
	</a>
	<a href="http://stackoverflow.com/questions/1485708/how-do-i-do-a-http-get-in-java?noredirect=1&amp;lq=1" class="question-hyperlink">How do I do a HTTP GET in Java?</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/5932372?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">9</div>
	</a>
	<a href="http://stackoverflow.com/questions/5932372/how-to-programmatically-send-a-http-request-with-parameters?noredirect=1&amp;lq=1" class="question-hyperlink">How to programmatically send a HTTP request with parameters?</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/4185320?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">2</div>
	</a>
	<a href="http://stackoverflow.com/questions/4185320/hitting-a-url-using-java?noredirect=1&amp;lq=1" class="question-hyperlink">hitting a URL using java</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/13586917?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">0</div>
	</a>
	<a href="http://stackoverflow.com/questions/13586917/how-to-call-and-pass-the-parameters-to-the-servlet-using-the-java-class-in-my-sw?noredirect=1&amp;lq=1" class="question-hyperlink">How to call and pass the parameters to the Servlet using the Java class in my swing application?</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/15252351?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">0</div>
	</a>
	<a href="http://stackoverflow.com/questions/15252351/checking-the-status-of-a-web-page?noredirect=1&amp;lq=1" class="question-hyperlink">Checking the status of a web page</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/7487341?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">1</div>
	</a>
	<a href="http://stackoverflow.com/questions/7487341/send-http-post-message-using-a-stream-in-java?noredirect=1&amp;lq=1" class="question-hyperlink">Send Http Post Message using a stream in Java</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/29552946?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">0</div>
	</a>
	<a href="http://stackoverflow.com/questions/29552946/easy-way-to-do-post-on-httpurlconnection?noredirect=1&amp;lq=1" class="question-hyperlink">easy way to do POST on HTTPURLConnection?</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/11827748?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">0</div>
	</a>
	<a href="http://stackoverflow.com/questions/11827748/do-post-request-programmatically?noredirect=1&amp;lq=1" class="question-hyperlink">Do POST request programmatically</a>
</div>
<div class="spacer">
	<a href="http://stackoverflow.com/q/26949618?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">0</div>
	</a>
	<a href="http://stackoverflow.com/questions/26949618/execute-url-in-java?noredirect=1&amp;lq=1" class="question-hyperlink">execute url in java</a>
</div>					<div class="spacer more">
				<a href="http://stackoverflow.com/questions/linked/2793150?lq=1">see more linked questions…</a>
			</div>
	</div>
</div>

				<div class="module sidebar-related">
					<h4 id="h-related">Related</h4>
                    <div class="related js-gps-related-questions" data-tracker="rq=1">
                        <div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/499591?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted large">560</div></a><a href="http://stackoverflow.com/questions/499591/are-https-urls-encrypted?rq=1" class="question-hyperlink">Are https URLs encrypted?</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/4205980?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted large">198</div></a><a href="http://stackoverflow.com/questions/4205980/java-sending-http-parameters-via-post-method-easily?rq=1" class="question-hyperlink">Java - sending HTTP parameters via POST method easily</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/5822838?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">0</div></a><a href="http://stackoverflow.com/questions/5822838/how-to-use-local-ip-address-on-a-java-net-urlconnection-in-java?rq=1" class="question-hyperlink">How to use local IP address on a java.net.URLConnection in Java</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/6158933?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted large">507</div></a><a href="http://stackoverflow.com/questions/6158933/how-to-make-an-http-post-request-in-node-js?rq=1" class="question-hyperlink">How to make an HTTP POST request in node.js?</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/14551194?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted large">806</div></a><a href="http://stackoverflow.com/questions/14551194/how-are-parameters-sent-in-an-http-post-request?rq=1" class="question-hyperlink">How are parameters sent in an HTTP POST request?</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/17242101?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">1</div></a><a href="http://stackoverflow.com/questions/17242101/http-request-passing-keywords-to-search?rq=1" class="question-hyperlink">HTTP Request passing Keywords to search</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/17259959?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">0</div></a><a href="http://stackoverflow.com/questions/17259959/java-http-request-fail?rq=1" class="question-hyperlink">Java HTTP Request Fail</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/17638398?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">15</div></a><a href="http://stackoverflow.com/questions/17638398/androids-httpurlconnection-throws-eofexception-on-head-requests?rq=1" class="question-hyperlink">Android's HttpURLConnection throws EOFException on HEAD requests</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/17885863?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">0</div></a><a href="http://stackoverflow.com/questions/17885863/is-it-possible-to-check-the-authentication-status-of-an-http-post-request-before?rq=1" class="question-hyperlink">is it possible to check the authentication status of an HTTP post request before getting the response?</a></div><div class="spacer js-gps-track"><a href="http://stackoverflow.com/q/28561423?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">0</div></a><a href="http://stackoverflow.com/questions/28561423/dealing-with-non-standard-http-response-codes-exceptions-in-java?rq=1" class="question-hyperlink">Dealing with Non-standard HTTP Response Codes Exceptions in Java</a></div>
                    </div>
				</div>
            
<div id="hot-network-questions" class="module tex2jax_ignore">
    <h4>
        <a href="http://stackexchange.com/questions?tab=hot" class="js-gps-track" data-gps-track="posts_hot_network.click({ item_type:1, location:11 })">
            Hot Network Questions
        </a>
    </h4>
    <ul>
            <li>
                <div class="favicon favicon-ux" title="User Experience Stack Exchange"></div><a href="http://ux.stackexchange.com/questions/105474/two-icons-for-one-input-field" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:102 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Two icons for one input field
                </a>

            </li>
            <li>
                <div class="favicon favicon-codereview" title="Code Review Stack Exchange"></div><a href="http://codereview.stackexchange.com/questions/156533/worded-mastermind-game-in-python" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:196 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Worded Mastermind game in Python
                </a>

            </li>
            <li>
                <div class="favicon favicon-unix" title="Unix &amp; Linux Stack Exchange"></div><a href="http://unix.stackexchange.com/questions/348146/what-is-the-default-gui-sftp-application-in-debian" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:106 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is the default GUI sftp application in Debian?
                </a>

            </li>
            <li>
                <div class="favicon favicon-politics" title="Politics Stack Exchange"></div><a href="http://politics.stackexchange.com/questions/15990/is-there-a-legal-way-that-can-be-used-to-force-the-president-of-united-states-un" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:475 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is there a legal way that can be used to force the President of United States undergo a mental health examination?
                </a>

            </li>
            <li>
                <div class="favicon favicon-workplace" title="The Workplace Stack Exchange"></div><a href="http://workplace.stackexchange.com/questions/85829/inadvertently-used-the-wrong-bathroom-to-shower-how-should-i-handle-this-situat" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:423 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Inadvertently used the wrong bathroom to shower. How should I handle this situation?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-security" title="Information Security Stack Exchange"></div><a href="http://security.stackexchange.com/questions/152612/visiting-the-u-s-for-a-security-conference" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:162 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Visiting the U.S. for a security conference
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-stackoverflow" title="Stack Overflow"></div><a href="http://stackoverflow.com/questions/42503389/simplest-way-to-create-a-stream-from-a-java-object" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:1 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Simplest way to create a stream from a Java object?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-politics" title="Politics Stack Exchange"></div><a href="http://politics.stackexchange.com/questions/16001/how-can-i-respond-to-whataboutism" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:475 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How can I respond to Whataboutism?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="http://english.stackexchange.com/questions/375934/the-implicit-meaning-of-enough-leaves-added" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    The implicit meaning of 'enough leaves added'
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-magento" title="Magento Stack Exchange"></div><a href="http://magento.stackexchange.com/questions/162183/quick-questions-for-marketplace-magento2" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:479 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Quick questions for marketplace magento2
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-tex" title="TeX - LaTeX Stack Exchange"></div><a href="http://tex.stackexchange.com/questions/356249/remove-chapter-name-from-header-just-from-first-page-of-tocs" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:85 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Remove chapter name from header just from first page of TOCs
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-worldbuilding" title="Worldbuilding Stack Exchange"></div><a href="http://worldbuilding.stackexchange.com/questions/72505/can-twin-stars-be-born" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:579 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can twin stars be born?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-webmasters" title="Webmasters Stack Exchange"></div><a href="http://webmasters.stackexchange.com/questions/104224/another-company-is-trying-to-register-some-company-name-domain-names-with-us" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:45 }); posts_hot_network.click({ item_type:2, location:11 })">
                    "Another company is trying to register some &lt;company name&gt; domain names with us" - legit?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-rpg" title="Role-playing Games Stack Exchange"></div><a href="http://rpg.stackexchange.com/questions/95752/if-my-world-building-makes-undead-not-intrinsically-evil-what-rules-changes-wou" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:122 }); posts_hot_network.click({ item_type:2, location:11 })">
                    If my world-building makes undead not intrinsically evil, what rules changes would I need to make?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="http://electronics.stackexchange.com/questions/289474/possible-to-jam-wireless-home-alarm-systems" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Possible to jam wireless home alarm systems
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-puzzling" title="Puzzling Stack Exchange"></div><a href="http://puzzling.stackexchange.com/questions/49598/whats-in-the-cave" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:559 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What's in the cave?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-gaming" title="Arqade"></div><a href="http://gaming.stackexchange.com/questions/301723/what-does-king-of-the-hill-mean-in-overwatch" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:41 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What does "King of the Hill" mean in Overwatch?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-gaming" title="Arqade"></div><a href="http://gaming.stackexchange.com/questions/301733/what-does-it-mean-to-say-that-the-turtle-armor-increases-chances-of-being-targe" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:41 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What does it mean to say that the Turtle Armor "increases chances of being targeted by enemies"?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-worldbuilding" title="Worldbuilding Stack Exchange"></div><a href="http://worldbuilding.stackexchange.com/questions/72379/how-do-you-tell-time-on-a-world-with-9-year-days" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:579 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How do you tell time on a world with 9-year days?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-codegolf" title="Programming Puzzles &amp; Code Golf Stack Exchange"></div><a href="http://codegolf.stackexchange.com/questions/111477/la-la-land-no-wait-moo-moo-moonlight" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:200 }); posts_hot_network.click({ item_type:2, location:11 })">
                    La La Land... no wait, Moo Moo Moonlight
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-rpg" title="Role-playing Games Stack Exchange"></div><a href="http://rpg.stackexchange.com/questions/95757/how-can-i-entice-my-tactical-players-to-embrace-cinematic-combat" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:122 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How can I entice my tactical players to embrace cinematic combat?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-worldbuilding" title="Worldbuilding Stack Exchange"></div><a href="http://worldbuilding.stackexchange.com/questions/72347/what-is-the-hardest-wood-possible-and-where-would-this-be-a-practical-material" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:579 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is the hardest wood possible, and where would this be a practical material?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-space" title="Space Exploration Stack Exchange"></div><a href="http://space.stackexchange.com/questions/20412/how-to-find-the-optimum-balance-between-amount-of-fuel-and-number-of-engines" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:508 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to find the optimum balance between amount of fuel and number of engines?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-scifi" title="Science Fiction &amp; Fantasy Stack Exchange"></div><a href="http://scifi.stackexchange.com/questions/153586/benevolent-aliens-who-initially-refuse-to-show-themselves" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:186 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Benevolent aliens who (initially) refuse to show themselves
                </a>

            </li>
    </ul>

        
</div>
		</div>
	
<div id="feed-link">
    <div id="feed-link-text">
        <a href="http://stackoverflow.com/feeds/question/2793150" title="feed of this question and its answers">
            <span class="feed-icon"></span>question feed
        </a>
    </div>
</div>	<script>
StackExchange.ready(function(){$.get('/posts/2793150/ivc/683e');});
</script>
<noscript>
    &lt;div&gt;&lt;img src="/posts/2793150/ivc/683e" class="dno" alt="" width="0" height="0"&gt;&lt;/div&gt;
</noscript><div style="display:none" id="prettify-lang">lang-java</div></div>


        </div>
    </div><script async="" src="./q40_files/clc.min.js.download"></script>
    <div id="footer" class="categories">
        <div class="footerwrap">            
            <div id="footer-menu">
                <div class="top-footer-links">
                    <a href="http://stackoverflow.com/company/about">about us</a>
                        <a href="http://stackoverflow.com/tour">tour</a>
                    <a href="http://stackoverflow.com/help">help</a>
                    <a href="http://stackoverflow.blog/?blb=1">blog</a>
                        <a href="http://chat.stackoverflow.com/">chat</a>
                    <a href="http://data.stackexchange.com/">data</a>
                    <a href="http://stackexchange.com/legal">legal</a>
                    <a href="http://stackexchange.com/legal/privacy-policy">privacy policy</a>
                    <a href="http://stackoverflow.com/company/work-here">work here</a>
                    <a href="https://www.stackoverflowbusiness.com/advertise">advertising info</a>
                        <a href="http://stackoverflow.com/jobs/directory/developer-jobs">developer jobs directory</a>

                    <a onclick="StackExchange.switchMobile(&quot;on&quot;)">mobile</a>
                    <b><a href="http://stackoverflow.com/contact">contact us</a></b>
                        <b><a href="http://meta.stackoverflow.com/">feedback</a></b>
                    
                </div>
                <div id="footer-sites">
                    <table>
    <tbody><tr>
            <th colspan="3">
                Technology
            </th>
            <th>
                Life / Arts
            </th>
            <th>
                Culture / Recreation
            </th>
            <th>
                Science
            </th>
            <th>
                Other
            </th>
    </tr>
    <tr>
            <td>
                <ol>
                        <li><a href="http://stackoverflow.com/" title="professional and enthusiast programmers">Stack Overflow</a></li>
                        <li><a href="http://serverfault.com/" title="system and network administrators">Server Fault</a></li>
                        <li><a href="http://superuser.com/" title="computer enthusiasts and power users">Super User</a></li>
                        <li><a href="http://webapps.stackexchange.com/" title="power users of web applications">Web Applications</a></li>
                        <li><a href="http://askubuntu.com/" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                        <li><a href="http://webmasters.stackexchange.com/" title="pro webmasters">Webmasters</a></li>
                        <li><a href="http://gamedev.stackexchange.com/" title="professional and independent game developers">Game Development</a></li>
                        <li><a href="http://tex.stackexchange.com/" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                        <li><a href="http://softwareengineering.stackexchange.com/" title="professionals, academics, and students working within the systems development life cycle who care about creating, delivering, and maintaining software responsibly">Software Engineering</a></li>
                        <li><a href="http://unix.stackexchange.com/" title="users of Linux, FreeBSD and other Un*x-like operating systems">Unix &amp; Linux</a></li>
                        <li><a href="http://apple.stackexchange.com/" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                        <li><a href="http://wordpress.stackexchange.com/" title="WordPress developers and administrators">WordPress Development</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://gis.stackexchange.com/" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                        <li><a href="http://electronics.stackexchange.com/" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                        <li><a href="http://android.stackexchange.com/" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                        <li><a href="http://security.stackexchange.com/" title="information security professionals">Information Security</a></li>
                        <li><a href="http://dba.stackexchange.com/" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                        <li><a href="http://drupal.stackexchange.com/" title="Drupal developers and administrators">Drupal Answers</a></li>
                        <li><a href="http://sharepoint.stackexchange.com/" title="SharePoint enthusiasts">SharePoint</a></li>
                        <li><a href="http://ux.stackexchange.com/" title="user experience researchers and experts">User Experience</a></li>
                        <li><a href="http://mathematica.stackexchange.com/" title="users of Wolfram Mathematica">Mathematica</a></li>
                        <li><a href="http://salesforce.stackexchange.com/" title="Salesforce administrators, implementation experts, developers and anybody in-between">Salesforce</a></li>
                        <li><a href="http://expressionengine.stackexchange.com/" title="administrators, end users, developers and designers for ExpressionEngine® CMS">ExpressionEngine® Answers</a></li>
                        <li><a href="http://crypto.stackexchange.com/" title="software developers, mathematicians and others interested in cryptography">Cryptography</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://codereview.stackexchange.com/" title="peer programmer code reviews">Code Review</a></li>
                        <li><a href="http://magento.stackexchange.com/" title="users of the Magento e-Commerce platform">Magento</a></li>
                        <li><a href="http://dsp.stackexchange.com/" title="practitioners of the art and science of signal, image and video processing">Signal Processing</a></li>
                        <li><a href="http://raspberrypi.stackexchange.com/" title="users and developers of hardware and software for Raspberry Pi">Raspberry Pi</a></li>
                        <li><a href="http://codegolf.stackexchange.com/" title="programming puzzle enthusiasts and code golfers">Programming Puzzles &amp; Code Golf</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#technology" class="more">
                                more (7)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://photo.stackexchange.com/" title="professional, enthusiast and amateur photographers">Photography</a></li>
                        <li><a href="http://scifi.stackexchange.com/" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                        <li><a href="http://graphicdesign.stackexchange.com/" title="Graphic Design professionals, students, and enthusiasts">Graphic Design</a></li>
                        <li><a href="http://movies.stackexchange.com/" title="movie and tv enthusiasts">Movies &amp; TV</a></li>
                        <li><a href="http://music.stackexchange.com/" title="musicians, students, and enthusiasts">Music: Practice &amp; Theory</a></li>
                        <li><a href="http://cooking.stackexchange.com/" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                        <li><a href="http://diy.stackexchange.com/" title="contractors and serious DIYers">Home Improvement</a></li>
                        <li><a href="http://money.stackexchange.com/" title="people who want to be financially literate">Personal Finance &amp; Money</a></li>
                        <li><a href="http://academia.stackexchange.com/" title="academics and those enrolled in higher education">Academia</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#lifearts" class="more">
                                more (8)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://english.stackexchange.com/" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                        <li><a href="http://skeptics.stackexchange.com/" title="scientific skepticism">Skeptics</a></li>
                        <li><a href="http://judaism.stackexchange.com/" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                        <li><a href="http://travel.stackexchange.com/" title="road warriors and seasoned travelers">Travel</a></li>
                        <li><a href="http://christianity.stackexchange.com/" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                        <li><a href="http://ell.stackexchange.com/" title="speakers of other languages learning English">English Language Learners</a></li>
                        <li><a href="http://japanese.stackexchange.com/" title="students, teachers, and linguists wanting to discuss the finer points of the Japanese language">Japanese Language</a></li>
                        <li><a href="http://gaming.stackexchange.com/" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                        <li><a href="http://bicycles.stackexchange.com/" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                        <li><a href="http://rpg.stackexchange.com/" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                        <li><a href="http://anime.stackexchange.com/" title="anime and manga fans">Anime &amp; Manga</a></li>
                        <li><a href="http://mechanics.stackexchange.com/" title="mechanics and DIY enthusiast owners of cars, trucks, and motorcycles">Motor Vehicle Maintenance &amp; Repair</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#culturerecreation" class="more">
                                more (17)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://mathoverflow.net/" title="professional mathematicians">MathOverflow</a></li>
                        <li><a href="http://math.stackexchange.com/" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                        <li><a href="http://stats.stackexchange.com/" title="people interested in statistics, machine learning, data analysis, data mining, and data visualization">Cross Validated (stats)</a></li>
                        <li><a href="http://cstheory.stackexchange.com/" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                        <li><a href="http://physics.stackexchange.com/" title="active researchers, academics and students of physics">Physics</a></li>
                        <li><a href="http://chemistry.stackexchange.com/" title="scientists, academics, teachers and students">Chemistry</a></li>
                        <li><a href="http://biology.stackexchange.com/" title="biology researchers, academics, and students">Biology</a></li>
                        <li><a href="http://cs.stackexchange.com/" title="students, researchers and practitioners of computer science">Computer Science</a></li>
                        <li><a href="http://philosophy.stackexchange.com/" title="those interested in the study of the fundamental nature of knowledge, reality, and existence">Philosophy</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#science" class="more">
                                more (3)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://meta.stackexchange.com/" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Exchange</a></li>
                        <li><a href="http://stackapps.com/" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                        <li><a href="http://area51.stackexchange.com/" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                        <li><a href="https://www.stackoverflowbusiness.com/talent">Stack Overflow Talent</a></li>
                    
                </ol>
            </td>
    </tr>
</tbody></table>
                </div>
            </div>
            <div id="copyright">
                site design / logo © 2017 Stack Exchange Inc; user contributions licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc by-sa 3.0</a> 
                with <a href="http://blog.stackoverflow.com/2009/06/attribution-required/" rel="license">attribution required</a>
            </div>
            <div id="svnrev">
                rev 2017.2.28.25254
            </div>
                </div>
    </div>
    <noscript>
        &lt;div id="noscript-warning"&gt;Stack Overflow works best with JavaScript enabled&lt;img src="https://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno"&gt;&lt;/div&gt;
    </noscript>

<script>var p = "http", d = "static"; if (document.location.protocol == "https:") { p += "s"; d = "engine"; } var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = p + "://" + d + ".adzerk.net/ados.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script>
<script>
    var ados = ados || {};
    ados.run = ados.run || [];
    
    
        
        ados.run.push(function () {
                setTimeout(function () { $("#adzerk-user-match").remove(); }, window.AUMIframeDone ? 0 : 2000);
                ados_setKeywords('java,http,httprequest,httpurlconnection,urlconnection');; ados_load();
        });   
        
</script>

    <script>
            (function(i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
                ga('create', 'UA-5620270-1');
                ga('create', 'UA-5620270-59', {name: 'pageData', sampleRate: 5 });
                ga('set', 'dimension2', '|java|http|httprequest|httpurlconnection|urlconnection|');
                ga('pageData.set', 'dimension2', '|java|http|httprequest|httpurlconnection|urlconnection|');
                ga('send', 'pageview');
                ga('pageData.send', 'pageview');
        var _qevents = _qevents || [],
            _comscore = _comscore || [];
        (function () {
            var ssl='https:'==document.location.protocol,
                s=document.getElementsByTagName('script')[0],
                qc=document.createElement('script');
                qc.async = true;
                qc.src = (ssl ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
                s.parentNode.insertBefore(qc, s);
                _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
                            var sc=document.createElement('script');
                sc.async=true;
                sc.src=(ssl?'https://sb':'http://b') + '.scorecardresearch.com/beacon.js';
                s.parentNode.insertBefore(sc, s);
                _comscore.push({ c1: "2", c2: "17440561" });
        })();

    </script>
        
    
            <script type="text/javascript">
                
                (function(appendChild) {
                    Node.prototype.appendChild = function() {
                        var parent = this;
                        var newNode = arguments[0];
                        if (parent.nodeName === 'HEAD'
                            && newNode
                            && newNode.nodeName === 'SCRIPT'
                            && newNode.src) {
                            
                            window.setTimeout(function() {
                                var result = newNode.src.match(/^https:\/\/maps\.googleapis\.com\/maps\/api\/place\/js\/(\w+)Service\./i) || [];
                                var service = result[1];
                                if (service) {
                                    if (service === 'Autocompletion') service =  2;
                                    else if (service === 'Place') service = 1;
                                    else service = 0;
                                    StackExchange.using('gps', function() {
                                        StackExchange.gps.track('google_maps_places_api.call', { service: service });
                                    });
                                }
                            }, 0);
                        }
                        return appendChild.apply(this, arguments);
                    };
                })(Node.prototype.appendChild);
            </script>
    
</body></html>